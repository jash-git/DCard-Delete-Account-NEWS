(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1120,2606,8098,1895],{60094:function(e,n,t){"use strict";t.d(n,{Z:function(){return h},D:function(){return x}});var o=t(54073),i=t.n(o),r=t(2784),c=t(64580),s=t(82509),u=t(55049),d=function(){try{if("undefined"!==typeof document&&document.querySelector(":scope")===document.documentElement)return":scope "}catch(e){}return""}(),a=t(56471),l=t(91008),f="data-auto-play",m=new c.X(""),p=i()((function(e){var n=e.container,t=e.autoPlayKey;if(!n)return m.next("");var o=function(e,n){if("undefined"===typeof document)return null;var t="".concat(d,"[").concat(n,"]:not([").concat(n,"='false'])"),o=(e||document).querySelector(t);return o?o.getAttribute(n):null}(n,t)||"";m.next(o)}),100);function h(e){var n=e.autoplay,t=e.containerRef,o=e.suspend,i=e.uniqKey,c=(0,r.useRef)(),s=(0,r.useRef)(!!o),u=(0,r.useMemo)((function(){return[f,i].filter(Boolean).join("-")}),[i]);return(0,r.useEffect)((function(){s.current=o}),[o]),(0,r.useEffect)((function(){o?m.next(""):n&&t.current&&(c.current=t.current,p({container:c.current,autoPlayKey:u}))}),[o,n,c,u,t]),{containerRef:c,suspendRef:s,autoPlayKey:u}}function x(e){var n=e.uniqId,t=e.ended,o=e.mainRef,i=e.handlePlay,c=e.handlePause,d=e.onAutoPlay,f=(0,r.useContext)(a._),h=f.containerRef,x=f.autoPlayKey,g=f.suspendRef,v=f.onScreenRootMargin,b=(0,r.useMemo)((function(){if(x&&n)return"".concat(x,"-").concat(n)}),[x,n]),I=(0,s.R)(o,{threshold:.5,rootMargin:v}),w=(0,r.useMemo)((function(){return m.pipe((0,l.x)())}),[]);(0,r.useEffect)((function(){var e=requestAnimationFrame((function(){return p({container:h.current,autoPlayKey:x})}));return function(){e&&cancelAnimationFrame(e)}}),[I,x,h]),(0,u.W)(w,(function(e){var n=g.current;t||(e!==b||n?b&&c():(null===d||void 0===d||d(),i()))}));var j=(0,r.useCallback)((function(){m.getValue()!==b&&b&&m.next(b)}),[b]);return{onScreen:I,autoPlayKey:x,autoPlayId:b,updateCurrentPlayingVideo:j}}},98098:function(e,n,t){"use strict";t.r(n),t.d(n,{BottomSheetNavigator:function(){return m},BottomSheetContainer:function(){return p},BottomSheetContent:function(){return h},default:function(){return x}});var o=t(52322),i=t(34149),r=t(39658),c=t(68233),s=t(53012),u=i.ZP.div.withConfig({componentId:"l7gfr9-0"})(["position:absolute;width:100%;bottom:0;min-height:180px;max-height:calc(100% - 32px);border-radius:12px 12px 0 0;padding-top:6px;display:flex;flex-direction:column;background-color:",";",";"],(function(e){return e.theme.whiteBg}),(function(e){return!e.disableTransition&&r.Oz})),d=i.ZP.div.withConfig({componentId:"l7gfr9-1"})(["height:44px;text-align:center;color:",";",";line-height:44px;position:relative;"],(function(e){return e.theme.newTextDark}),(function(e){return e.theme.title})),a=i.ZP.div.withConfig({componentId:"l7gfr9-2"})(["flex:1;display:flex;overflow:auto;padding:0 20px;",";"],(function(e){return e.theme.scrollBar})),l=i.ZP.div.withConfig({componentId:"l7gfr9-3"})(["padding-bottom:24px;width:100%;height:fit-content;"]),f=(0,i.ZP)(s.Z).attrs((function(e){return{size:24,fill:e.theme.textDefault}})).withConfig({componentId:"l7gfr9-4"})(["position:absolute;left:20px;top:50%;transform:translateY(-50%);"]);function m(e){var n=e.children,t=e.onClose;return(0,o.jsxs)(d,{children:[(0,o.jsx)(f,{onClick:t}),n]})}function p(e){var n=e.children,t=e.className,i=e.disableTransition;return(0,o.jsx)(u,{className:t,disableTransition:i,children:n})}function h(e){var n=e.children,t=e.className;return(0,o.jsx)(a,{className:t,children:(0,o.jsx)(l,{children:n})})}function x(e){var n=e.isOpen,t=e.onClose,i=e.children,r=e.navigationTitle,s=e.className;return(0,o.jsx)(c.aV,{isOpen:n,onClose:t,children:(0,o.jsxs)(p,{children:[r&&(0,o.jsx)(m,{onClose:t,children:r}),(0,o.jsx)(h,{className:s,children:i})]})})}},56471:function(e,n,t){"use strict";t.d(n,{_:function(){return o}});var o=(0,t(2784).createContext)({containerRef:{current:void 0},autoPlayKey:"",suspendRef:{current:!1}})},20725:function(e,n,t){"use strict";t.d(n,{k:function(){return o},Z:function(){return d}});var o,i=t(52322),r=t(2784),c=t(56471),s=t(60094),u=t(34149).ZP.div.withConfig({componentId:"sc-1wisey8-0"})(["flex:1;"]);function d(e){var n=e.children,t=e.autoplay,o=e.uniqKey,d=e.suspend,a=void 0!==d&&d,l=e.onScreenRootMargin,f=(0,r.useRef)(null),m=(0,s.Z)({autoplay:t,containerRef:f,suspend:a,uniqKey:o}),p=m.containerRef,h=m.suspendRef,x=m.autoPlayKey;return(0,i.jsx)(c._.Provider,{value:{containerRef:p,autoPlayKey:x,suspendRef:h,onScreenRootMargin:l},children:(0,i.jsx)(u,{ref:f,children:n})})}!function(e){e.PostList="post-list",e.Post="post"}(o||(o={}))},66018:function(e,n,t){"use strict";var o=t(52322),i=t(82509),r=t(50520),c=t(2784),s={threshold:0};n.Z=function(e){var n=e.children,t=(0,c.useRef)(null),u=(0,c.useState)(!1),d=u[0],a=u[1],l=(0,i.R)(t,s);return(0,c.useEffect)((function(){l&&a((function(e){return e||!0}))}),[l]),(0,r.L)((function(){var e=t.current;e&&(e.hasChildNodes()||a(!0))}),[t]),d?(0,o.jsx)("div",{ref:t,children:n}):(0,o.jsx)("div",{ref:t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}})}},12606:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var o=t(52322),i=t(2784);var r=t(82509),c=t(34149).ZP.div.withConfig({componentId:"sc-1ocsimk-0"})(["height:1px;"]);function s(e){var n=e.children,t=e.pagination,s=e.onLoadMore,u=function(){const[,e]=(0,i.useState)(Object.create(null));return(0,i.useCallback)((()=>{e(Object.create(null))}),[e])}(),d=(0,i.useRef)(null),a=(0,r.R)(d),l=!(null!==t&&void 0!==t&&t.loading)&&!(null!==t&&void 0!==t&&t.noMore)&&!(null!==t&&void 0!==t&&t.error)&&(null===t||void 0===t?void 0:t.fetched),f=(0,i.useRef)(l),m=(0,i.useRef)(s);return(0,i.useEffect)((function(){m.current=s}),[s]),(0,i.useEffect)((function(){f.current=l}),[l]),(0,i.useEffect)((function(){if(a&&l){var e=setTimeout((function(){f.current&&m.current()}),50);return function(){return clearTimeout(e)}}}),[a,l]),(0,o.jsx)("div",{ref:function(e){d.current||(d.current=e,u())},style:{display:null!==t&&void 0!==t&&t.noMore||null!==t&&void 0!==t&&t.error?"none":"block"},children:n||(0,o.jsx)(c,{})})}},9555:function(e,n,t){"use strict";t.r(n);var o=t(52322),i=t(34149),r=i.ZP.div.withConfig({componentId:"sc-3l0xho-0"})(["padding:0 ","px;background-color:",";"],(function(e){return e.theme.POST_VIEW_HORIZONTAL_PADDING}),(function(e){return e.theme.isMobile?e.theme.uiBackground:"transparent"})),c=(0,i.iv)(["",";color:",";padding:26px 0 6px;"],(function(e){return e.theme.subtitle2}),(function(e){return e.theme.newTextSemiLight})),s=(0,i.iv)(["",";border-bottom:1px solid ",";color:",";padding-bottom:4px;"],(function(e){return e.theme.body1}),(function(e){return e.theme.borderBlackTransparent5}),(function(e){return e.theme.textDefault})),u=i.ZP.div.withConfig({componentId:"sc-3l0xho-1"})(["",""],(function(e){return e.theme.isMobile?c:s}));n.default=function(e){var n=e.children,t=e.className;return(0,o.jsx)(r,{className:t,children:(0,o.jsx)(u,{children:n})})}},81895:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var o=t(52322),i=t(59394),r=t(54530),c=t(2784),s=t(50852);function u(e){var n=e.className,t=(0,r.Z)(e,["className"]),u=(0,c.useRef)(null),d=(0,s.Z)(u,(0,i.Z)((0,i.Z)({},t),{},{offsetStart:function(e){return e.offsetTop},elementSize:function(e){return e.height},elementStart:function(e){return e.top}})),a=d.paddingStart,l=d.paddingEnd,f=d.visibleChildren;return(0,o.jsx)("div",{ref:u,className:n,style:{paddingTop:a,paddingBottom:l},children:f})}},50852:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var o=t(52322),i=t(54),r=t(23059),c=t.n(r),s=t(2784),u=t(34038),d=t(50520);function a(e){var n=e.children,t=e.index,i=e.resizeObserver,r=(0,s.useRef)(null);return(0,d.L)((function(){var e=r.current;if(e&&i)return i.observe(e),function(){i.unobserve(e)}}),[r,i]),(0,o.jsx)("div",{ref:r,"data-index":t,children:n})}var l=t(59390),f=t(92188);function m(e,n){var t=n.children,r=n.initialRowSize,d=n.rowCount,m=n.rowKey,p=void 0===m?c():m,h=n.persistRow,x=void 0===h?function(){return!1}:h,g=n.offsetStart,v=n.elementStart,b=n.elementSize,I=n.overscanMultiplier,w=void 0===I?1:I,j=(0,s.useRef)([]),Z=(0,s.useRef)(x),C=(0,s.useRef)(g),P=(0,s.useRef)(v),y=(0,s.useRef)(b),S=(0,l.Gc)(),M=(0,s.useState)(0),_=M[0],k=M[1],T=(0,s.useState)(b(S.getSize())),N=T[0],E=T[1],A=(0,s.useState)(v(S.getScrollPosition())),D=A[0],O=A[1];(0,s.useEffect)((function(){Z.current=x}),[x]),(0,s.useEffect)((function(){C.current=g}),[g]),(0,s.useEffect)((function(){P.current=v}),[v]),(0,s.useEffect)((function(){y.current=b}),[b]),(0,s.useEffect)((function(){var e=S.size$.pipe((0,f.U)(y.current)).subscribe(E);return function(){return e.unsubscribe()}}),[S]),(0,s.useEffect)((function(){var e,n=S.scroll$.pipe((0,f.U)(P.current)).subscribe((function(n){e=requestAnimationFrame((function(){return O(n)}))}));return function(){n.unsubscribe(),e&&cancelAnimationFrame(e)}}),[S]);var L=(0,u.y)((function(e){var n,t=(0,i.Z)(e);try{for(t.s();!(n=t.n()).done;){var o=n.value,r=parseInt(o.target.dataset.index,10);isNaN(r)?k(C.current(o.target)):j.current[r]=y.current(o.contentRect)}}catch(c){t.e(c)}finally{t.f()}})),R=(0,s.useCallback)((function(e){var n,t=j.current[e];return"number"===typeof t?t:"function"===typeof r?null!==(n=r(e))&&void 0!==n?n:0:r}),[r]),z=(0,s.useCallback)((function(e){return Z.current(e)&&!!j.current[e]}),[]);(0,s.useEffect)((function(){var n=e.current;if(n)return L.observe(n),function(){L.unobserve(n)}}),[e,L]);var B=(0,s.useMemo)((function(){var e=d-1;if(e<0)return[0,0];for(var n=D,t=D+N,o=N*w,i=_,r=-1,c=-1,s=0,u=0,a=0;a<d&&((i+=R(a))>t&&c<0&&(c=a),i>n&&r<0&&(r=a),!(r>=0&&c>=0));a++);if(r<0&&(r=n>i?e:0),c<0&&(c=e),r>0){i=0;for(var l=r;l>=0&&!(i>o);l--)i+=R(l),s++}if(c<e){i=0;for(var f=c;f<=e&&!(i>o);f++)i+=R(f),u++}return[Math.max(0,r-s),Math.min(e,c+u)]}),[N,D,_,d,R,w]),H=B[0],G=B[1],q=(0,s.useMemo)((function(){function e(e,n){for(var t=0,o=e;o<n;o++)z(o)||(t+=R(o));return t}return[e(0,H),e(G+1,d)]}),[H,G,d,z,R]);return{paddingStart:q[0],paddingEnd:q[1],visibleChildren:(0,s.useMemo)((function(){for(var e=[],n=0;n<d;n++){var i=n>=H&&n<=G,r=z(n);(i||r)&&e.push((0,o.jsx)(a,{index:n,resizeObserver:L,children:t({index:n})},p(n)))}return e}),[d,H,G,z,p,L,t])}}},12262:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var o=t(2784),i=t(14344),r=t(49814),c=t(50562),s=t(6790),u=t(55219),d=t(58628);function a(e){var n,t=(0,c.Tt)()?"ios":"android",o=document.querySelector('meta[property="al:'.concat(t,':url"]')),i=null===o||void 0===o?void 0:o.content,r="ios"===t&&"Dtto"===e?"dtto://category":"dcard://category",s=null===(n=(0,d.Z)(i))||void 0===n?void 0:n.protocol;return null!==s&&void 0!==s&&s.startsWith("http")?r:i||r}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.customDcardDownloadLink,t=e.customDttoDownloadLink,d=(0,i.d)(),l=(0,o.useRef)(!1),f=(0,o.useRef)(!1),m=(0,r.Z)(u.TP),p=a(m),h=(0,o.useMemo)((function(){var e=n||s.oq,o=t||s.$N;return"Dtto"===m?o:e}),[n,t,m]);(0,o.useEffect)((function(){!d&&l.current&&(f.current=!0)}),[d]);var x=(0,o.useCallback)((function(){((0,c.Dt)()||(0,c.Tt)())&&(l.current=!0,(0,c.ZP)(p),setTimeout((function(){f.current=!1,setTimeout((function(){f.current||(0,c.ZP)(h),l.current=!1}),1e3)})))}),[p,h]);return{handlers:{openInAppOrDownloadApp:x},links:{appLink:p,downloadLink:h}}}},28522:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var o=t(43248),i=t(55219),r=t(56267),c=t(49814),s=t(35155),u=Object.values(r.lE).filter((function(e){return isNaN(parseInt(e))}));function d(){var e=(0,o.Z)(),n=(0,c.Z)(i.Hu),t=e.query.forumAlias,r=(0,s.F)().bottom_banner_open_app;return n?t&&u.includes(t)||"undefined"===typeof r?"control":r:"control"}},30988:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var o=t(2784),i=t(66811),r=t(49814),c=t(43248),s=t(27753),u=t(95195),d=t(7309);function a(){var e=(0,c.Z)(),n=(0,i.I0)(),t=(0,r.Z)((function(n){return(0,s.sh)(n,e.query.forumAlias)})),a=(0,r.Z)((function(e){return t&&(0,u.Ov)(e,t.alias)}));return(0,o.useEffect)((function(){a&&n((0,d.V3)(a.id))}),[a,n]),(0,o.useMemo)((function(){var e,n;return null!==(e=null===a||void 0===a||null===(n=a.stats)||void 0===n?void 0:n.totalMembers)&&void 0!==e?e:0}),[a])}},11833:function(e,n,t){"use strict";t.d(n,{X:function(){return b},Z:function(){return w}});var o=t(2784),i=t(66811),r=t(49814),c=t(43248),s=t(17736),u=t(55219),d=t(27753),a=t(95195),l=t(69176),f=t(84726),m=t(5201),p=t(35155),h=t(7309),x=t(90836),g=t(56267),v=t(5431),b=["/gamezone","/forum","/goods/widget"];function I(e,n){return e.alias===g.lE.Freshman||(e.alias===g.lE.HKFreshman||!(!e.isSchool||"TW"!==(null===n||void 0===n?void 0:n.country)||null===n||void 0===n||!n.available))}function w(){var e,n=(0,c.Z)(),t=(0,i.I0)(),g=(0,r.Z)(u.Hu),w=(0,r.Z)(u.cm),j=(0,r.Z)((function(e){return(0,d.sh)(e,n.query.forumAlias)})),Z=(0,x.Z)(),C=(0,r.Z)((function(e){return(0,l.pm)(e,Z)})),P=(0,r.Z)((function(e){return j&&(0,a.Ov)(e,j.alias)})),y=(0,r.Z)(f.S5),S=(0,r.Z)(f.OH),M=(0,r.Z)(f.p2),_=(0,r.Z)((function(e){return e.remoteConfig.data}))[v.y.NormalForumCommentHoverExperiment],k=void 0!==_&&_,T=(0,r.Z)(u.TP),N=(0,m.S)(),E=(null===C||void 0===C?void 0:C.gender)===s.y7.D,A=null===C||void 0===C?void 0:C.isEC,D=null===C||void 0===C||null===(e=C.customStyle)||void 0===e?void 0:e.enableSurveyButton,O=(0,p.F)().bottom_banner_open_app,L=!Z||!!C;(0,o.useEffect)((function(){null!==j&&void 0!==j&&j.isSchool&&t((0,h.co)(j.alias))}),[t,j]);var R=(0,o.useMemo)((function(){return!(w||g||!N)&&!!["/forum","/post"].includes(n.pathname)}),[w,g,n,N]),z=(0,o.useMemo)((function(){return!!(g&&j&&N)&&("undefined"!==typeof O||!w)}),[g,j,N,O,w]),B=(0,o.useMemo)((function(){return!!j&&(!!z&&I(j,P))}),[z,j,P]),H=(0,o.useMemo)((function(){return!!k&&(!!z&&"Dcard"===T)}),[z,k,T]),G=(0,o.useMemo)((function(){return!!g&&(j||b.includes(n.pathname))}),[g,j,n.pathname]),q=(0,o.useMemo)((function(){return!(w||g||!j||!N||!L||E||A)&&(!!I(j,P)&&y)}),[w,g,j,N,L,E,P,y,A]),F=L&&!E&&!A&&S;return{shouldMountDesktopBanner:R,shouldMountMobileBanner:B,shouldMountMobileFloatingButton:G,shouldMountForceLoginBanner:q,shouldMountMobileCommentHoverBanner:L&&!E&&!A&&B,shouldShowDesktopBottomBanner:L&&!E&&!A&&!y&&!M,shouldShowMobileBottomBanner:F,shouldShowMobileFloatingButton:L&&!D&&(!B||!F),shouldMountMobileCommentHoverBannerExperiment:L&&H}}},84726:function(e,n,t){"use strict";t.d(n,{S5:function(){return o},OH:function(){return i},p2:function(){return r}});var o=function(e){return!!e.floatingBanner.showForceLoginBanner},i=function(e){return!!e.floatingBanner.showMobileBottomBanner},r=function(e){return!!e.floatingBanner.isLoginConfirmModalShow}},44900:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var o=t(52322);function i(e){var n=e.post,t=e.className,i=e.size;return n.thumbnail?(0,o.jsx)(r,{className:t,src:n.thumbnail,width:"".concat(i,"px"),height:"".concat(i,"px"),alt:""}):null}var r=t(34149).ZP.img.attrs({loading:"lazy",referrerPolicy:"no-referrer"}).withConfig({componentId:"sc-2rneb0-0"})(["grid-area:thumb;overflow:hidden;border-radius:12px;border:1px solid ",";object-fit:cover;margin-left:","px;"],(function(e){return e.theme.borderBlackTransparent10}),(function(e){return e.theme.isMobile?16:20}))},58278:function(e,n,t){"use strict";t.d(n,{w:function(){return o}});var o=t(46424).Z.getSelectors((function(e){return e.haowuCampaign})).selectById},68600:function(e,n,t){"use strict";var o,i,r,c;t.d(n,{vh:function(){return o},gS:function(){return i},FY:function(){return c}}),function(e){e.ComingSoon="coming_soon",e.ForSale="for_sale",e.EndOfSale="end_of_sale",e.OutOfStock="out_of_stock",e.Disable="disable"}(o||(o={})),function(e){e.STORE_PICKUP_FAMILY="STORE_PICKUP_FAMILY",e.STORE_PICKUP_711="STORE_PICKUP_711",e.HOME_DELIVERY="HOME_DELIVERY"}(i||(i={})),function(e){e.B2C="B2C",e.C2C="C2C"}(r||(r={})),function(e){e.bundlePrice="bundlePrice",e.limitedTime="limitedTime"}(c||(c={}))},70331:function(e,n,t){"use strict";t.d(n,{qE:function(){return i.qE},ZP:function(){return d}});var o=t(52322),i=t(74784),r=t(93959),c=t(52890),s=t(49814),u=t(48203);function d(e){var n=e.className,t=e.persona,d=e.position,a=e.showNotifyButton,l=void 0!==a&&a,f=e.showTutorial,m=void 0!==f&&f,p=e.size,h=e.variant,x=e.notSubscribedIntent,g=void 0===x?i.wg.Primary:x,v=e.subscribedIntent,b=void 0===v?i.wg.Secondary:v,I=(0,s.Z)(u.np);return t.uid===(null===I||void 0===I?void 0:I.uid)?null:(0,o.jsx)(r.Z,{className:n,position:d,provider:c.gj,showNotifyButton:l,showTutorial:m,size:p,variant:h,notSubscribedIntent:g,subscribedIntent:b,subject:t})}},87388:function(e,n,t){"use strict";t.d(n,{gL:function(){return c},zw:function(){return s},Do:function(){return u},jy:function(){return d}});var o=t(34149),i=t(80230),r=t(74784),c=o.ZP.div.withConfig({componentId:"zle616-0"})(["margin-bottom:20px;",""],(function(e){return e.theme.isMobile&&(0,o.iv)(["width:100vw;margin-left:-","px;"],e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN)})),s=(0,o.ZP)(i.z).attrs({variant:r.Wu.Text,size:r.qE.Small}).withConfig({componentId:"zle616-1"})(["&&{padding:0;}"]),u=o.ZP.div.withConfig({componentId:"zle616-2"})(["display:flex;justify-content:space-between;padding:0 ","px;margin-bottom:8px;"],(function(e){return e.theme.POST_VIEW_HORIZONTAL_PADDING})),d=o.ZP.h6.withConfig({componentId:"zle616-3"})(["",";color:",";"],(function(e){return e.theme.subtitle2}),(function(e){return e.theme.newTextSemiDark}))},76349:function(e,n,t){"use strict";t.d(n,{F:function(){return f}});var o=t(52322),i=t(54530),r=t(59394),c=t(2784),s=t(39097),u=t(43248),d=t(17726),a=t(37674),l=t(19126);function f(e){var n=e.forumAlias,t=void 0===n?"all":n,o=e.postId,i=e.state,c=e.router,s=e.withModal,u=e.commentFloor,d=(0,l.stringify)((0,r.Z)((0,r.Z)({},c.query),{},{forumAlias:t,postId:o,commentFloor:u},i)),a=u?"/comment":s?c.route:"/post";return{href:"".concat(a,"?").concat(d),as:function(){var e="/f/".concat(t,"/p/").concat(o);return u?"".concat(e,"/b/").concat(u):e}(),prefetch:!1,shallow:s}}n.Z=(0,c.forwardRef)((function(e,n){var t=e.children,l=e.forumAlias,m=e.postId,p=e.state,h=e.preventDefault,x=e.commentFloor,g=(0,i.Z)(e,["children","forumAlias","postId","state","preventDefault","commentFloor"]),v=(0,c.useContext)(d.Z).closeModal,b=f({forumAlias:l,postId:m,state:p,router:(0,u.Z)(),commentFloor:x,withModal:!!v});return(0,o.jsx)(s.default,(0,r.Z)((0,r.Z)({scroll:!1},b),{},{children:(0,o.jsx)("a",(0,r.Z)((0,r.Z)({ref:n},(0,a.h)(g)),{},{onClick:function(e){h&&e.preventDefault(),g.onClick&&g.onClick(e)},children:t}))}))}))},17726:function(e,n,t){"use strict";var o=t(2784).createContext({});n.Z=o},43805:function(e,n,t){"use strict";t.d(n,{a:function(){return _},Z:function(){return N}});var o=t(52322),i=t(51119),r=t(59394),c=t(54),s=t(2784),u=t(49814),d=t(34149),a=t(65296),l=t(9555),f=t(81895),m=t(66811),p=t(82509),h=t(56230),x=t(70349),g=(0,t(86401).F)({viewBox:"0 0 24 24"},[s.createElement("path",{d:"M23.7 5.9l-.3-.3a.9.9 0 00-1.2 0l-9.8 9.8c-.2.2-.6.2-.8 0L1.8 5.6a.9.9 0 00-1.2 0l-.3.3c-.4.3-.4.9 0 1.2l9.8 9.8a2.7 2.7 0 003.8 0l9.8-9.8c.4-.3.4-.9 0-1.2z"})]),v=t(89509),b=t(37672),I=t(83112),w=d.ZP.div.withConfig({componentId:"sc-1g6i0fc-0"})(["border-bottom:1px solid ",";border-top:1px solid ",";cursor:pointer;position:relative;user-select:none;"],(function(e){return e.theme.borderWhiteLight}),(function(e){return e.theme.borderWhiteLight})),j=d.ZP.div.withConfig({componentId:"sc-1g6i0fc-1"})(["display:flex;align-items:center;justify-content:center;color:",";padding:24px 0;font-size:14px;&:hover{background:",";}","{fill:",";width:20px;height:20px;margin-right:10px;transform:rotateZ(",");}"],(function(e){return e.theme.active}),(function(e){return e.theme.hoverContainerBg}),x.q,(function(e){return e.theme.active}),(function(e){return e.downward&&"180deg"})),Z=d.ZP.div.withConfig({componentId:"sc-1g6i0fc-2"})(["position:absolute;bottom:calc(50% + 50vh);pointer-events:none;visibility:hidden;"]);function C(e){var n=e.start,t=e.end,i=e.post,r=(0,I.Z)().formatMessage,c=(0,m.I0)(),d=(0,s.useRef)(null),a=!(0,p.R)(d),l=(0,u.Z)((function(e){var n;return(0,b.d5)(e,(0,b.Mo)({postId:null!==(n=null===i||void 0===i?void 0:i.id)&&void 0!==n?n:""}))})),f=!i||l.loading,x=a?t-1:n+1,C=a?Math.max(t-30,n+1):Math.min(n+30,t-1),P=(0,s.useCallback)((function(){i&&c((0,v.nQ)({postId:i.id,after:"".concat(Math.min(x,C)-1),limit:Math.min(Math.abs(x-C)+1,30)}))}),[c,i,x,C]);return(0,o.jsxs)(w,{children:[(0,o.jsx)(Z,{ref:d}),f?(0,o.jsx)(h.Z,{}):(0,o.jsxs)(j,{onClick:P,downward:a,children:[(0,o.jsx)(g,{}),x===C?r({id:"comment.one_floor.description_format"},{a:x}):r({id:"comment.two_floor.description_format"},{a:x,b:C})]})]})}var P,y=t(25379),S=t(33102),M=t(55219),_="data-floor",k=d.ZP.div.withConfig({componentId:"sc-1ghk0k7-0"})(["padding:0 ","px;"],(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN})),T=d.ZP.div.withConfig({componentId:"sc-1ghk0k7-1"})(["background:",";position:relative;display:flex;justify-content:center;padding:",";border-bottom:1px solid ",";"],(function(e){return e.theme.containerBg}),(function(e){return e.theme.isMobile?"".concat(e.theme.POST_VIEW_VERTICAL_PADDING,"px 0"):""}),(function(e){return e.theme.borderWhiteLight}));function N(e){var n=e.comments,t=void 0===n?[]:n,d=e.post,m=e.showAd,p=e.showLoadMoreInGap,h=e.title,x=e.enableDataFloor,g=(0,u.Z)(M.Hu),v=(0,s.useMemo)((function(){var e,n=[],o=0,i=0,r=d&&d.commentCount||t.length,s=(0,c.Z)(t);try{for(s.s();!(e=s.n()).done;){var u=e.value;p&&u.floor-o>1&&n.push({type:P.Gap,start:o,end:u.floor}),m&&(o-10)%30===0&&r-o>=10&&n.push({type:P.Ads,index:"".concat(++i)}),n.push({type:P.Comment,comment:u}),o=u.floor}}catch(a){s.e(a)}finally{s.f()}return n}),[t,d,m,p]),b=(0,s.useMemo)((function(){return v.reduce((function(e,n,t){return(0,r.Z)((0,r.Z)({},e),n.type===P.Ads&&(0,i.Z)({},t,!0))}),{})}),[v]);return(0,o.jsxs)("section",{children:[(0,o.jsx)(l.default,{children:h}),(0,o.jsx)(f.Z,{rowCount:v.length,initialRowSize:125,persistRow:function(e){return b[e]},children:function(e){return function(e){var n=v[e];switch(n.type){case P.Comment:return(0,o.jsx)(k,(0,r.Z)((0,r.Z)({},x&&(0,i.Z)({},_,n.comment.floor)),{},{children:(0,o.jsx)(a.Z,{comment:n.comment,post:d,noBorder:(v[e+1]||{}).type===P.Gap,maxHeight:"25vh"})}));case P.Gap:return(0,o.jsx)(k,{children:(0,o.jsx)(C,{post:d,start:n.start,end:n.end})});case P.Ads:if(d){var t="".concat(n.index);return(0,o.jsxs)(T,{children:[g&&(0,o.jsx)(y.Z,{placement:S.Y.MobileLatestCommentsMiddle,idSuffix:t}),!g&&(0,o.jsx)(y.Z,{placement:S.Y.DesktopLatestCommentsMiddle,idSuffix:t})]})}}return null}(e.index)}})]})}!function(e){e[e.Comment=0]="Comment",e[e.Gap=1]="Gap",e[e.Ads=2]="Ads"}(P||(P={}))},7177:function(e,n,t){"use strict";t.d(n,{v:function(){return j},Z:function(){return Z}});var o=t(52322),i=t(25237),r=(t(2784),t(34149)),c=t(18275),s=t(96466),u=t(39496),d=t(55219),a=t(92817),l=t(49814),f=t(69176),m=t(87388),p=(0,i.default)((function(){return Promise.all([t.e(9351),t.e(7889)]).then(t.bind(t,27889))}),{loadableGenerated:{webpack:function(){return[27889]},modules:["../modules/post/components/ECHeader/ECPostSharingHeader.tsx -> ./DesktopImageViewer"]}}),h=(0,i.default)((function(){return t.e(9907).then(t.bind(t,39907))}),{loadableGenerated:{webpack:function(){return[39907]},modules:["../modules/post/components/ECHeader/ECPostSharingHeader.tsx -> ./MobileImagesCarousel"]}}),x=(0,i.default)((function(){return Promise.all([t.e(9351),t.e(2659),t.e(1836)]).then(t.bind(t,21836))}),{loadableGenerated:{webpack:function(){return[21836]},modules:["../modules/post/components/ECHeader/ECPostSharingHeader.tsx -> ./DesktopPinnedGoodsView"]}}),g=(0,i.default)((function(){return Promise.all([t.e(9351),t.e(5778)]).then(t.bind(t,65778))}),{loadableGenerated:{webpack:function(){return[65778]},modules:["../modules/post/components/ECHeader/ECPostSharingHeader.tsx -> ./MobilePinnedGoodsView"]}}),v=(0,r.ZP)(m.gL).withConfig({componentId:"mmvyu7-0"})(["",""],(function(e){return e.theme.isMobile?(0,r.iv)([""]):(0,r.iv)(["border-bottom:1px solid ",";"],(function(e){return e.theme.uiSeparator}))}));function b(e){var n=e.postId,t=(0,l.Z)(d.Hu),i=(0,l.Z)((function(e){return(0,f.pm)(e,n)})),r=(0,l.Z)((function(e){var n;return(0,a.wT)(e,null!==(n=null===i||void 0===i?void 0:i.ecSharingId)&&void 0!==n?n:"")}));return(0,o.jsx)(v,{children:t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h,{postId:n}),(null===r||void 0===r?void 0:r.shareItems)&&(null===i||void 0===i?void 0:i.ecSharingId)&&(0,o.jsx)(g,{postId:n,shareItems:r.shareItems,sharingId:i.ecSharingId})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{postId:n}),(null===r||void 0===r?void 0:r.shareItems)&&(null===i||void 0===i?void 0:i.ecSharingId)&&(0,o.jsx)(x,{postId:n,shareItems:r.shareItems,sharingId:i.ecSharingId})]})})}var I=(0,i.default)((function(){return Promise.all([t.e(9351),t.e(7866),t.e(4484)]).then(t.bind(t,95730))}),{loadableGenerated:{webpack:function(){return[95730]},modules:["../modules/post/components/PostView/Content.tsx -> ./ReplyPost"]}}),w=(0,i.default)((function(){return Promise.all([t.e(9351),t.e(1023),t.e(9622)]).then(t.bind(t,33993))}),{loadableGenerated:{webpack:function(){return[33993]},modules:["../modules/post/components/PostView/Content.tsx -> ../ECHeader/ECGoodHeader"]}}),j=r.ZP.div.withConfig({componentId:"sc-1npvbtq-0"})(["",";word-wrap:break-word;color:",";line-height:28px;"],(function(e){return e.theme.body1}),(function(e){return e.theme.newTextSemiDark}));function Z(e){var n=e.post,t=e.className;return(0,o.jsxs)(j,{className:t,children:[n.isEC&&!n.meta.crossPostId&&(0,o.jsx)(w,{postId:n.id}),n.isECSharing&&!n.meta.crossPostId&&(0,o.jsx)(b,{postId:n.id}),n.replyId&&(0,o.jsx)(I,{postId:n.id,replyId:n.replyId,replyTitle:n.replyTitle}),(0,o.jsx)(s.Z,{postId:n.id,source:{key:u.H.postArticleContent,detail:"".concat(n.id)},children:(0,c.ts)(n.contentSegments)||n.excerpt})]})}},11120:function(e,n,t){"use strict";t.d(n,{T:function(){return co},Z:function(){return so}});var o=t(52322),i=t(54530),r=t(77162),c=t.n(r),s=t(56470),u=t(2784),d=t(66811),a=t(34149),l=t(25237),f=t(25379),m=t(96562),p=t(90809),h=t(70932),x=(0,a.ZP)(p.Z).withConfig({componentId:"sc-1da5p6a-0"})(["width:100%;"]),g=function(){return(0,o.jsx)(x,{ratio:1,children:(0,o.jsxs)(h.Z,{ratio:1,children:[(0,o.jsx)("rect",{x:0,y:0,width:6,height:6,rx:6,ry:6}),(0,o.jsx)("rect",{x:8,y:1.5,width:15,height:3}),(0,o.jsx)("rect",{x:25,y:1.5,width:25,height:3}),(0,o.jsx)("rect",{x:0,y:9,width:60,height:5}),(0,o.jsx)("rect",{x:0,y:15,width:10,height:3}),(0,o.jsx)("rect",{x:12,y:15,width:20,height:3}),(0,o.jsx)("rect",{x:0,y:30,width:60,height:3}),(0,o.jsx)("rect",{x:0,y:35,width:90,height:3}),(0,o.jsx)("rect",{x:0,y:40,width:30,height:3}),(0,o.jsx)("rect",{x:0,y:55,width:75,height:3}),(0,o.jsx)("rect",{x:0,y:60,width:20,height:3}),(0,o.jsx)("rect",{x:0,y:75,width:30,height:3})]})})},v=t(85354),b=t(82509),I=t(78123),w=t(47619),j=a.ZP.div.withConfig({componentId:"nc2rhb-0"})(["position:relative;"]),Z=a.ZP.div.withConfig({componentId:"nc2rhb-1"})(["position:absolute;top:50%;left:50%;width:1px;height:1px;visibility:hidden;pointer-events:none;"]);function C(){var e=(0,d.I0)(),n=(0,I.Z)(),t=(0,v.Z)(n,3),i=t[0],r=t[2],c=(0,b.R)(r),s=(0,u.useState)(c),a=s[0],l=s[1];return(0,u.useEffect)((function(){!a&&c&&i&&(l(!0),e(w.E.actions.setForceLoginBannerVisibility(!0)))}),[a,c,i,e]),(0,o.jsx)(j,{children:(0,o.jsx)(Z,{ref:r})})}var P=t(49814),y=t(55219),S=function(){var e=(0,P.Z)(y.cm),n=(0,P.Z)(y.Hu);return e||n?null:(0,o.jsx)(C,{})},M=a.ZP.div.withConfig({componentId:"sc-1gfwqzk-0"})(["position:relative;"]),_=a.ZP.div.withConfig({componentId:"sc-1gfwqzk-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,0%);width:100px;height:0;visibility:hidden;pointer-events:none;"]);function k(){var e=(0,d.I0)(),n=(0,u.useRef)(null),t=(0,b.R)(n);return(0,u.useEffect)((function(){e(w.E.actions.setMobileBottomBannerVisibility(!t))}),[t,e]),(0,o.jsx)(M,{children:(0,o.jsx)(_,{ref:n})})}var T=t(5201),N=t(28522),E=function(){var e=(0,P.Z)(y.Hu),n=(0,N.Z)();return(0,T.S)()&&"control"===n&&e?(0,o.jsx)(k,{}):null},A=t(10252),D=t(77106),O=t(88059),L=t(7177),R=t(57699),z=t(66018),B=t(18275),H=(0,l.default)((function(){return Promise.all([t.e(9554),t.e(5531)]).then(t.bind(t,37943))}),{ssr:!1,loadableGenerated:{webpack:function(){return[37943]},modules:["../modules/post/components/PostView/Article.tsx -> ./AuthorMenu"]}}),G=(0,l.default)((function(){return t.e(612).then(t.bind(t,9231))}),{ssr:!1,loadableGenerated:{webpack:function(){return[9231]},modules:["../modules/post/components/PostView/Article.tsx -> ~/modules/post/components/CrossPost"]}}),q=a.ZP.article.withConfig({componentId:"sc-1eorkjw-0"})(["background:",";padding:0 ","px 0;"],(function(e){return e.theme.containerBg}),(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN})),F=a.ZP.div.withConfig({componentId:"sc-1eorkjw-1"})(["display:flex;align-items:center;"]),V=a.ZP.div.withConfig({componentId:"sc-1eorkjw-2"})(["flex:1;overflow:hidden;"]),Y=a.ZP.div.withConfig({componentId:"sc-1eorkjw-3"})(["font-size:","px;display:flex;align-items:center;margin-top:12px;"],(function(e){return e.theme.isMobile?13:14})),U=a.ZP.div.withConfig({componentId:"sc-1eorkjw-4"})(["color:",";white-space:nowrap;",";&:not(:last-child)::after{content:'·';padding:0 0.5em;}"],(function(e){return e.theme.textLight}),(function(e){return e.theme.ellipsis})),W=a.ZP.div.withConfig({componentId:"sc-1eorkjw-5"})(["padding:","px 0 ","px;"],(function(e){return e.theme.POST_VIEW_VERTICAL_PADDING}),(function(e){return e.theme.isMobile?24:40})),K=a.ZP.div.withConfig({componentId:"sc-1eorkjw-6"})(["padding-bottom:","px;"],(function(e){return e.theme.isMobile?12:16}));function Q(e){var n,t,i,r=e.post,c=e.isMobile,s=A.cw.exec(r.forumAlias),u=s?"/@".concat(null===(n=s.groups)||void 0===n?void 0:n.uid):"/f/".concat(r.forumAlias);return(0,o.jsxs)(q,{children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(V,{children:(0,o.jsx)(R.Z,{children:(0,B.ts)(r.titleSegments)})}),!c&&r.currentMember&&(0,o.jsx)(H,{post:r})]}),(0,o.jsxs)(Y,{children:[(null===(t=r.customStyle)||void 0===t?void 0:t.showHeaderForum)&&(0,o.jsx)(U,{children:(0,o.jsx)(D.Z,{to:u,children:r.forumName})}),(null===(i=r.customStyle)||void 0===i?void 0:i.showCreatedAt)&&(0,o.jsx)(U,{children:r.timeString})]}),(0,o.jsx)(W,{children:r.meta.crossPostId?(0,o.jsx)(G,{crossPostId:r.meta.crossPostId,postId:r.id,placement:"postView"}):(0,o.jsx)(L.Z,{post:r})}),r.topics&&r.topics.length>0&&(0,o.jsx)(z.Z,{children:(0,o.jsx)(K,{children:(0,o.jsx)(O.Z,{topics:r.topics,position:"post"})})})]})}var $=t(11720),J=t(12999),X=t(70349),ee=t(53012),ne=t(20166),te=t(57090),oe=t(70331),ie=t(58677),re=t(83112),ce=a.ZP.div.withConfig({componentId:"xrkql2-0"})(["flex:1;display:flex;"]),se=(0,a.ZP)(ie.u).withConfig({componentId:"xrkql2-1"})(["&&{--background-color:",";}"],(function(e){return e.theme.tooltipBg})),ue=(0,a.ZP)(D.Z).withConfig({componentId:"xrkql2-2"})(["display:flex;align-items:center;"]),de=a.ZP.div.withConfig({componentId:"xrkql2-3"})(["color:",";padding:6px 16px;line-height:2;"],(function(e){return e.theme.newTextWhite}));function ae(e){var n=e.children,t=e.post,i=(0,re.Z)().formatMessage,r=(0,d.I0)(),c=(0,u.useState)(!1),s=c[0],a=c[1],l=(0,P.Z)((function(e){var n,o;return null===e||void 0===e||null===(n=e.persona)||void 0===n||null===(o=n.data)||void 0===o?void 0:o[t.authorUid]}));return(0,u.useEffect)((function(){t.authorUid&&r((0,te.De)({uid:t.authorUid}))}),[r,t.authorUid]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ce,{children:(0,o.jsx)(se,{isOpen:s,setOpen:a,placement:"right",modifiers:[{name:"preventOverflow",enabled:!1}],trigger:(0,o.jsx)(ue,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},to:"/@".concat(t.authorUid),state:{sourceKey:"post",sourceDetail:t.id},children:n}),children:(0,o.jsx)(de,{children:i({id:"post.author_tooltip.description_format"},{postCount:l&&"number"===typeof l.postCount?l.postCount:""})})})}),!t.currentMember&&t.personaSubscriptable&&l&&(0,o.jsx)(oe.ZP,{persona:l,position:"post",size:oe.qE.Small})]})}var le=t(79445),fe=t(15457),me=a.ZP.div.withConfig({componentId:"s3d701-0"})(["flex:1;min-width:0;overflow:hidden;"]),pe=a.ZP.div.withConfig({componentId:"s3d701-1"})(["display:flex;align-items:center;"]),he=a.ZP.div.withConfig({componentId:"s3d701-2"})(["",";",";color:",";margin-right:2px;"],(function(e){return e.theme.subtitle2}),(function(e){return e.theme.ellipsis}),(function(e){return e.theme.newTextDark})),xe=a.ZP.div.withConfig({componentId:"s3d701-3"})(["",";"],(function(e){return e.theme.caption})),ge=(0,a.ZP)(me).withConfig({componentId:"fve9d9-0"})(["cursor:pointer;"]),ve=a.ZP.div.withConfig({componentId:"fve9d9-1"})(["display:flex;align-items:center;"]),be=(0,a.ZP)(le.Z).attrs((function(e){return{fill:e.theme.suspiciousIconColor,size:16}})).withConfig({componentId:"fve9d9-2"})(["margin-left:3px;"]);function Ie(){var e=(0,re.Z)().formatMessage,n=(0,u.useState)(!1),t=n[0],i=n[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(ge,{onClick:function(){return i(!0)},children:[(0,o.jsx)(he,{children:(0,o.jsxs)(ve,{children:[e({id:"member.suspicious.title"}),(0,o.jsx)(be,{})]})}),(0,o.jsx)(xe,{children:e({id:"member.suspicious_identifying.status"})})]}),(0,o.jsx)(fe.Z,{isOpen:t,onClose:function(){return i(!1)}})]})}var we=t(61347),je=t(28365),Ze=t(17726),Ce=t(47317),Pe=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-0"})(["background:",";color:",";padding:14px 0;font-size:14px;text-align:center;"],(function(e){return e.headerColor||e.theme.danger}),(function(e){return e.theme.textWhite})),ye=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-1"})(["padding:",";display:flex;align-items:center;"],(function(e){return e.theme.isMobile?"16px ".concat(e.theme.POST_VIEW_HORIZONTAL_PADDING,"px"):"40px ".concat(e.theme.POST_VIEW_HORIZONTAL_PADDING,"px 22px")})),Se=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-2"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Me=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-3"})(["padding-right:8px;"]),_e=(0,a.ZP)(J.Z).attrs({size:32}).withConfig({componentId:"sc-1mc3zbv-4"})([""]),ke=(0,a.ZP)(xe).withConfig({componentId:"sc-1mc3zbv-5"})(["display:flex;align-items:center;color:",";"],(function(e){return e.theme.textDefault})),Te=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-6"})(["display:flex;padding:0 ","px 18px;"],(function(e){return e.theme.POST_VIEW_HORIZONTAL_PADDING})),Ne=(0,a.ZP)(ne.Z).withConfig({componentId:"sc-1mc3zbv-7"})(["background:",";color:",";font-size:","px;padding:4px 7px;border-radius:4px;"],(function(e){return e.bgColor}),(function(e){return e.theme.textWhite}),(function(e){return e.theme.isMobile?15:18})),Ee=a.ZP.button.attrs({type:"button"}).withConfig({componentId:"sc-1mc3zbv-8"})(["padding:0;padding-left:8px;background:none;border:none;cursor:pointer;","{width:24px;height:24px;fill:",";}&:hover{","{fill:",";}}"],X.q,(function(e){return e.theme.iconFillMedium}),X.q,(function(e){return e.theme.active})),Ae=a.ZP.div.withConfig({componentId:"sc-1mc3zbv-9"})(["",";"],(function(e){return e.shift&&(0,a.iv)(["transform:translateX(-2px);"])}));var De=function(e){var n,t,i,r,c=e.post,s=(0,re.Z)().formatMessage,a=(0,Ce.i)(),l=(0,d.I0)(),f=(0,P.Z)(y.Hu),m=(0,u.useContext)(Ze.Z).closeModal,p=a(c.authorName),h=null===(n=c.customStyle)||void 0===n?void 0:n.headerColor,x=null===(t=c.customStyle)||void 0===t?void 0:t.label,g=!(null===(i=A.cw.exec(c.forumAlias))||void 0===i||null===(r=i.groups)||void 0===r||!r.uid),v=!!c.isModerator&&!g;(0,u.useEffect)((function(){c.authorUid&&l((0,te.De)({uid:c.authorUid}))}),[l,c.authorUid]);var b=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Me,{children:(0,o.jsx)(_e,{source:c})}),c.isSuspiciousAccount?(0,o.jsx)(Ie,{}):(0,o.jsxs)(me,{children:[(0,o.jsxs)(pe,{children:[(0,o.jsx)(he,{children:p}),c.verifiedBadge&&(0,o.jsx)(we.Z,{type:je.g.verified})]}),c.withNickname&&(0,o.jsx)(Ae,{shift:v,children:(0,o.jsxs)(ke,{children:[v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(we.Z,{type:je.g.moderator,showLabel:!0}),"・"]}),"@",c.authorUid]})})]})]});return(0,o.jsxs)(o.Fragment,{children:[!f&&h&&(0,o.jsx)(Pe,{headerColor:h}),!f&&c&&!!c.backupMessage&&(0,o.jsx)(Pe,{children:s.apply(void 0,(0,$.Z)(c.backupMessage))}),(0,o.jsx)(ye,{children:(0,o.jsxs)(Se,{children:[c.withNickname?(0,o.jsx)(ae,{post:c,children:b}):b,m&&(0,o.jsx)(Ee,{onClick:m,"aria-label":s({id:"general.dismiss.action"}),children:(0,o.jsx)(ee.Z,{})})]})}),x&&(0,o.jsx)(Te,{children:(0,o.jsx)(Ne,{bgColor:x.bgColor,children:x.text})})]})},Oe=t(59394),Le=t(808),Re=t(22822),ze=t(61493),Be=t(54267),He=a.ZP.div.withConfig({componentId:"bp4hse-0"})(["display:flex;align-items:center;"]),Ge=a.ZP.div.withConfig({componentId:"bp4hse-1"})(["display:grid;grid-template-columns:repeat(2,1fr);grid-gap:26px;padding:0 ","px;margin-top:6px;width:100%;"],(function(e){return e.theme.isMobile?0:20})),qe=a.ZP.div.withConfig({componentId:"bp4hse-2"})(["display:flex;align-items:center;font-size:16px;"]),Fe=a.ZP.img.withConfig({componentId:"bp4hse-3"})(["display:block;border-radius:50%;margin-right:10px;min-width:30px;width:30px;height:30px;"]),Ve=a.ZP.div.withConfig({componentId:"bp4hse-4"})(["color:",";margin-right:12px;white-space:nowrap;"],(function(e){return e.theme.textMedium})),Ye=a.ZP.div.withConfig({componentId:"bp4hse-5"})(["color:",";"],(function(e){return e.theme.textLight})),Ue=function(e){var n=e.reactions,t=void 0===n?[]:n,i=e.onClose,r=e.isOpen,c=(0,re.Z)().formatMessage;return(0,o.jsx)(Be.Vq,{isOpen:r,align:ze.x.Center,title:c({id:"post.reaction.title"}),onClose:i,children:(0,o.jsx)(He,{children:(0,o.jsx)(Ge,{children:t.map((function(e,n){return(0,o.jsxs)(qe,{children:[(0,o.jsx)(Fe,{src:e.url}),(0,o.jsx)(Ve,{children:e.name}),(0,o.jsx)(Ye,{children:e.count})]},n)}))})})})},We=(0,a.ZP)(Re.Z).withConfig({componentId:"xv9ecr-0"})(["cursor:",";"],(function(e){return e.disabled?"auto":"pointer"})),Ke=function(e){var n=e.postId,t=e.reactions,r=e.count,c=(0,i.Z)(e,["postId","reactions","count"]),s=(0,u.useState)(!1),d=s[0],a=s[1],l=(0,P.Z)(y.cm),f=!r;return(0,u.useEffect)((function(){d&&Le.t.enqueue({event:"postLiked",payload:{action:"short_press",position:"post",success:l,postId:+n}})}),[d,l,n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(We,(0,Oe.Z)((0,Oe.Z)({},c),{},{reactions:t,count:r,disabled:f,onClick:function(){return!f&&a(!0)}})),(0,o.jsx)(Ue,{isOpen:d,reactions:t,onClose:function(){return a(!1)}})]})},Qe=(0,l.default)((function(){return Promise.all([t.e(1023),t.e(365)]).then(t.bind(t,70365))}),{ssr:!1,loadableGenerated:{webpack:function(){return[70365]},modules:["../modules/post/components/PostView/Footer.tsx -> ~/modules/post/components/PostActionBar"]}}),$e=a.ZP.div.withConfig({componentId:"fiw2dr-0"})(["padding:0 ","px;background:",";"],(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN}),(function(e){return e.theme.containerBg})),Je=a.ZP.div.withConfig({componentId:"fiw2dr-1"})(["padding:","px 0;color:",";font-size:","px;display:flex;justify-content:space-between;align-items:center;border-top:",";border-bottom:",";"],(function(e){return e.theme.isMobile?12:6}),(function(e){return e.theme.textDefault}),(function(e){return e.theme.isMobile?16:18}),(function(e){return e.theme.isMobile&&"1px solid ".concat(e.theme.borderBlackTransparent5)}),(function(e){return e.theme.isMobile&&"1px solid ".concat(e.theme.borderBlackTransparent5)})),Xe=a.ZP.div.withConfig({componentId:"fiw2dr-2"})(["display:flex;flex:1;align-items:center;"]),en=a.ZP.div.withConfig({componentId:"fiw2dr-3"})(["flex-shrink:0;"]),nn=a.ZP.div.withConfig({componentId:"fiw2dr-4"})(["span{border-color:",";}"],(function(e){return e.theme.containerBg})),tn=(0,a.ZP)(Ke).attrs((function(e){return{iconSize:e.theme.isMobile?21:24}})).withConfig({componentId:"fiw2dr-5"})([""]),on=function(e){var n=e.post,t=(0,re.Z)().formatMessage;return(0,o.jsx)($e,{children:(0,o.jsxs)(Je,{children:[(0,o.jsxs)(Xe,{children:[(0,o.jsx)(nn,{children:(0,o.jsx)(tn,{count:n.reactionCount,reactions:n.reactions,postId:n.id})}),"・",t({id:"comment.count.status_format"},{commentCount:n.commentCount})]}),(0,o.jsx)(en,{children:(0,o.jsx)(Qe,{post:n,position:"post"})})]})})},rn=t(9555),cn=t(39496),sn=t(44900),un=t(76349),dn=t(45102),an=a.ZP.li.withConfig({componentId:"sc-1an3q64-0"})(["position:relative;min-width:0;padding:",";border-bottom:",";&:last-child{border-bottom:none;}",""],(function(e){return e.theme.isMobile?"11px 0":"8px 0 8px 15px"}),(function(e){return e.theme.isMobile&&"1px solid ".concat(e.theme.borderBlackTransparent5)}),(function(e){return!e.theme.isMobile&&"\n    &::before {\n      content: '';\n      width: 7px;\n      height: 7px;\n      position: absolute;\n      top: 15px;\n      left: 0;\n      border-radius: 50%;\n      margin: auto;\n      background: ".concat(e.theme.active,";\n    }\n  ")})),ln=a.ZP.div.withConfig({componentId:"sc-1an3q64-1"})(["height:","px;display:grid;grid-template-areas:'title . thumb' 'footer . thumb';grid-template-columns:auto 16px ","px;"],(function(e){return e.theme.RECOMMENDED_POSTS_THUMBNAIL_SIZE}),(function(e){return e.theme.RECOMMENDED_POSTS_THUMBNAIL_SIZE})),fn=a.ZP.div.withConfig({componentId:"sc-1an3q64-2"})(["grid-area:title;margin-top:auto;margin-bottom:auto;font-size:16px;font-weight:bold;color:",";",";"],(function(e){return e.theme.newTextDark}),(function(e){return e.theme.ellipsis})),mn=a.ZP.div.withConfig({componentId:"sc-1an3q64-3"})(["grid-area:footer;margin-top:auto;margin-bottom:auto;font-size:14px;color:",";"],(function(e){return e.theme.isMobile?e.theme.textDefault:e.theme.newTextSemiLight})),pn=a.ZP.div.withConfig({componentId:"sc-1an3q64-4"})(["grid-area:thumb;margin-left:auto;width:","px;height:","px;"],(function(e){return e.theme.RECOMMENDED_POSTS_THUMBNAIL_SIZE}),(function(e){return e.theme.RECOMMENDED_POSTS_THUMBNAIL_SIZE})),hn=(0,a.ZP)(sn.Z).attrs((function(e){return{size:e.theme.RECOMMENDED_POSTS_THUMBNAIL_SIZE}})).withConfig({componentId:"sc-1an3q64-5"})(["margin-left:0;border-radius:","px;"],(function(e){return e.theme.isMobile?12:10}));function xn(e){var n=e.postId,t=e.recommendedPost,i=e.onClick,r=e.cellNo,c=(0,re.Z)().formatMessage,s={sourceKey:cn.H.darsys,sourceDetail:n},u=(0,dn.ZP)({list:cn.H.darsys,listDetail:n,itemType:dn.zu.DarsysPost,itemId:+t.id,cellNo:r,itemPosition:0});return(0,o.jsx)(an,{ref:u,onClick:function(){return i(t)},children:(0,o.jsx)(un.Z,{forumAlias:t.forumAlias,postId:t.id,state:s,children:(0,o.jsxs)(ln,{children:[(0,o.jsx)(fn,{children:t.title}),(0,o.jsxs)(mn,{children:[c({id:"post.reaction_count.status_format"},{likeCount:t.likeCount}),"・",c({id:"comment.count.status_format"},{commentCount:t.commentCount})]}),(0,o.jsx)(pn,{children:(0,o.jsx)(hn,{post:t})})]})})})}var gn=t(33102);function vn(e){var n=e.position;return(0,o.jsx)(an,{children:(0,o.jsx)(f.Z,{placement:gn.Y.DesktopNativeDarsysItem,idSuffix:"".concat(n),customTargeting:{position:n}})})}var bn=t(15605),In=t(5431),wn=a.ZP.div.withConfig({componentId:"sc-19abs5-0"})(["color:",";padding:",";"],(function(e){return e.theme.textLight}),(function(e){return!e.theme.isMobile&&"40px 0"})),jn=a.ZP.ul.withConfig({componentId:"sc-19abs5-1"})(["display:grid;grid-template-columns:repeat( ",",1fr );grid-gap:0 43px;margin-top:","px;padding:0 ","px;"],(function(e){return e.theme.isMobile?1:2}),(function(e){return e.theme.isMobile?0:10}),(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN}));var Zn=function(e){var n=e.postId,t=(0,re.Z)().formatMessage,i=(0,P.Z)((function(e){return(0,bn.s)(e,n)})),r=(0,P.Z)((function(e){return e.remoteConfig.data[In.y.DesktopWebAdDarsysNative]})),c=Array.isArray(r)?r:[!1,!1],s=(0,v.Z)(c,2),d=s[0],a=s[1],l=(0,P.Z)(y.Hu),f=(0,u.useMemo)((function(){return function(e,n,t){Le.t.enqueue({event:"recommendedPostViewed",payload:{postId:e,action:n,recommendedId:t}})}}),[]),m=(0,u.useMemo)((function(){var e=i.map((function(e,t){return(0,o.jsx)(xn,{postId:n,recommendedPost:e,cellNo:t+1,onClick:function(e){return f(+n,"click",+e.id)}},t)}));return l||(d&&e.splice(1,0,(0,o.jsx)(vn,{position:2},"ad2")),a&&e.splice(6,0,(0,o.jsx)(vn,{position:7},"ad7"))),e}),[i,n,f,l,d,a]);return(0,u.useEffect)((function(){i.length&&f(+n,"view")}),[f,n,i]),i.length?(0,o.jsxs)(wn,{children:[(0,o.jsx)(rn.default,{children:t({id:"darsys.main.title"})}),(0,o.jsx)(jn,{children:m})]}):null},Cn=t(90549),Pn=t(43248);var yn=function(e){var n=function(e){var n=e.postId,t=(0,Pn.Z)(),o=(0,u.useRef)(null),i=(0,b.R)(o),r=(0,u.useRef)(Date.now()),c=(0,u.useRef)(!1),s=(0,u.useRef)(!1),d=(0,Cn.Lk)().customizedSource,a=(0,Cn._p)(),l=(0,Cn.G6)(),f=(0,u.useCallback)((function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=null!==d&&void 0!==d&&d.key?d:(0,Oe.Z)((0,Oe.Z)({},a),d),r=function(){switch(i.key){case cn.H.post:case cn.H.postArticleReply:case cn.H.postArticleContent:case cn.H.postArticleCrossPost:return!0}}(),c=t.query.cid||new URLSearchParams(window.location.search).get("cid");l((function(){Le.t.enqueue({event:"postViewed",payload:(0,Oe.Z)({postId:+n,percentage:e,cellNo:i.cellNo||0,duration:o,itemPosition:i.itemPosition||0},c?{source:cn.H.share,sourceDetail:"".concat(c)}:(0,Oe.Z)({source:i.key,sourceDetail:"".concat(i.detail)},r&&{sourceFrom:"".concat(n)}))})}))}),[n,t,d,a,l]);return(0,u.useEffect)((function(){c.current=!1,s.current=!1,r.current=Date.now()}),[n]),(0,u.useEffect)((function(){a&&(c.current||(c.current=!0,f(0)))}),[f,a]),(0,u.useEffect)((function(){s.current||i&&(s.current=!0,f(100,Math.floor((Date.now()-r.current)/1e3)))}),[f,i]),o}({postId:e.postId});return(0,o.jsx)("div",{ref:n})},Sn=t(16384),Mn=t(58875),_n=t(80230),kn=t(74784),Tn=t(65296),Nn=t(27753),En=t(12262),An=t(30988),Dn=t(56267);function On(e){var n=e.post,t=e.comments,i=e.onClose,r=(0,re.Z)().formatMessage,c=(0,Pn.Z)(),s=(0,En.Z)(),d=s.handlers.openInAppOrDownloadApp,a=s.links.downloadLink,l=(0,u.useRef)(null),f=(0,b.R)(l),m=(0,u.useRef)(!1),p=(0,P.Z)((function(e){return(0,Nn.sh)(e,c.query.forumAlias)})),h=(0,P.Z)(y.TP),x=(0,An.Z)(),g=(0,u.useCallback)((function(e){var n=e.action,t=e.target,o=e.targetDetail,i=e.clickButtonType;p&&Le.t.enqueue({event:"conversionBannerClicked",payload:(0,Oe.Z)((0,Oe.Z)((0,Oe.Z)((0,Oe.Z)({bannerType:"blocker",action:n},i&&{clickButtonType:i}),t&&{target:t}),o&&{targetDetail:o}),{},{forumId:p.id})})}),[p]);(0,u.useEffect)((function(){f&&!m.current&&(g({action:"view",target:"app_download",targetDetail:a}),m.current=!0)}),[g,f,a]);var v=(0,u.useCallback)((function(){p&&(g({action:"click",clickButtonType:"app_download",target:"app_download",targetDetail:a}),d())}),[p,g,d,a]),I=(0,u.useCallback)((function(){g({action:"click",clickButtonType:"close_banner"}),null===i||void 0===i||i()}),[g,i]),w=null===p||void 0===p?void 0:p.name,j=(0,u.useMemo)((function(){return(null===p||void 0===p?void 0:p.alias)===Dn.lE.Freshman?r({id:"bottom_banner.freshman.title_format"},{product:h}):(null===p||void 0===p?void 0:p.alias)===Dn.lE.HKFreshman?r({id:"bottom_banner.hkfreshman.title_format"},{product:h}):x>=1e4?r({id:"bottom_banner.school_member_more.title_format"},{forumName:w}):r({id:"bottom_banner.school_member_less.title_format"},{schoolTotalMember:x.toLocaleString(),forumName:w})}),[p,x,r,w,h]);return p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rn.default,{children:r({id:"post.comment_list.title_format"},{commentCount:null===n||void 0===n?void 0:n.commentCount})}),(0,o.jsxs)(Ln,{children:[t.length>0&&(0,o.jsx)(Rn,{children:(0,o.jsx)(Tn.Z,{comment:t[0],post:n,noBorder:!0})}),(0,o.jsxs)(Bn,{children:[0===t.length?(0,o.jsx)(Mn.Z,{forum:p,size:40}):(0,o.jsx)(zn,{}),(0,o.jsx)(Gn,{children:(0,o.jsx)(Hn,{ref:l,children:j})}),(0,o.jsxs)(Gn,{children:[(0,o.jsx)(_n.z,{intent:kn.wg.Primary,size:kn.qE.Small,block:!0,onClick:v,children:r({id:"bottom_banner.download_or_open.action_format"},{product:h})}),!!i&&(0,o.jsx)(_n.z,{intent:kn.wg.Secondary,variant:kn.Wu.Text,size:kn.qE.Small,block:!0,onClick:function(){return I()},children:r({id:"bottom_banner.see_forum_first.action"})})]})]})]})]}):null}var Ln=a.ZP.div.withConfig({componentId:"sc-19rzwmf-0"})(["position:relative;overflow:hidden;"]),Rn=a.ZP.div.withConfig({componentId:"sc-19rzwmf-1"})(["position:absolute;top:0;width:100%;padding:0 ","px;"],(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN})),zn=a.ZP.div.withConfig({componentId:"sc-19rzwmf-2"})(["height:40px;"]),Bn=a.ZP.div.withConfig({componentId:"sc-19rzwmf-3"})(["position:relative;width:100%;padding:16px;background-image:linear-gradient( 180deg,#ffffff80 0%,#ffffff 38%,#ffffff 100% );display:grid;grid-row-gap:12px;justify-items:center;"]),Hn=a.ZP.div.withConfig({componentId:"sc-19rzwmf-4"})(["font-size:18px;font-weight:800;white-space:pre-wrap;text-align:center;line-height:1.4;"]),Gn=a.ZP.div.withConfig({componentId:"sc-19rzwmf-5"})(["width:100%;display:grid;grid-row-gap:8px;justify-items:center;"]),qn=t(42670),Fn=t(50148),Vn=t(98098),Yn=t(6790);function Un(e){var n=e.post,t=e.comments,i=(0,En.Z)({customDcardDownloadLink:Yn.nX}).handlers.openInAppOrDownloadApp,r=(0,P.Z)(y.TP),c=(0,Pn.Z)(),s=(0,P.Z)((function(e){return(0,Nn.sh)(e,c.query.forumAlias)})),d=(0,u.useCallback)((function(e){var n=e.position,t=e.action;s&&Le.t.enqueue({event:"commentBlockerExperiment",payload:{position:n,action:t}})}),[s]),a=(0,u.useRef)(null),l=(0,b.R)(a),f=(0,u.useRef)(!1);(0,u.useEffect)((function(){l&&!f.current&&(d({position:"comment_blocker",action:"view"}),f.current=!0)}),[d,l]);var m=(0,u.useCallback)((function(){d({position:"bottom_sheet",action:"click"}),i()}),[d,i]),p=(0,u.useState)(!1),h=p[0],x=p[1],g=(0,u.useCallback)((function(){d({position:"comment_blocker",action:"click"}),x(!0)}),[d]),v=(0,u.useCallback)((function(){d({position:"bottom_sheet",action:"cancel"}),x(!1)}),[d]);(0,u.useEffect)((function(){h&&d({position:"bottom_sheet",action:"view"})}),[d,h]);var I=(0,u.useMemo)((function(){var e=Math.min(Yn.EL,t.length),i=t.slice(0,e).map((function(e){return(0,o.jsx)(Tn.Z,{comment:e,post:n,noBorder:!0},e.id)}));return{notHoveredBannerEntries:i.slice(0,e-1),hoveredBannerEntries:i.slice(-1)}}),[t,n]),w=I.notHoveredBannerEntries,j=I.hoveredBannerEntries;return s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rn.default,{children:(0,o.jsx)(qn.Z,{id:"post.comment_list.title_format",values:{commentCount:null===n||void 0===n?void 0:n.commentCount}})}),(0,o.jsxs)(Wn,{children:[w.length>0&&(0,o.jsx)(Kn,{children:w}),(0,o.jsxs)(Jn,{children:[(0,o.jsx)(Qn,{children:(0,o.jsx)(Kn,{children:j})}),(0,o.jsxs)(Xn,{children:[0===j.length?(0,o.jsx)(Mn.Z,{forum:s,size:40}):(0,o.jsx)($n,{}),(0,o.jsx)(et,{children:(0,o.jsx)(_n.z,{intent:kn.wg.Primary,size:kn.qE.Small,block:!0,onClick:g,children:(0,o.jsx)("div",{ref:a,children:(0,o.jsx)(qn.Z,{id:"comment.check_all_comments.action_format",values:{commentCount:null===n||void 0===n?void 0:n.commentCount}})})})})]})]})]}),(0,o.jsx)(Vn.default,{isOpen:h,onClose:v,children:(0,o.jsxs)(nt,{children:[(0,o.jsx)(tt,{size:40}),(0,o.jsx)(ot,{children:(0,o.jsx)(qn.Z,{id:"bottom_banner.comment_to_download_app.title_format",values:{product:r,commentCount:null===n||void 0===n?void 0:n.commentCount}})}),(0,o.jsx)(it,{children:(0,o.jsx)(qn.Z,{id:"bottom_banner.comment_to_download_app.description"})}),(0,o.jsx)(rt,{intent:kn.wg.Primary,size:kn.qE.Small,block:!0,onClick:m,children:(0,o.jsx)(qn.Z,{id:"bottom_banner.comment_to_download_app.action",values:{commentCount:null===n||void 0===n?void 0:n.commentCount}})}),(0,o.jsx)(ct,{onClick:v,children:(0,o.jsx)(qn.Z,{id:"bottom_banner.later.action"})})]})})]}):null}var Wn=a.ZP.div.withConfig({componentId:"rychpq-0"})(["position:relative;overflow:hidden;"]),Kn=a.ZP.div.withConfig({componentId:"rychpq-1"})(["position:relative;width:100%;padding:0 ","px;"],(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN})),Qn=a.ZP.div.withConfig({componentId:"rychpq-2"})(["position:absolute;top:0;left:0;"]),$n=a.ZP.div.withConfig({componentId:"rychpq-3"})(["height:40px;"]),Jn=a.ZP.div.withConfig({componentId:"rychpq-4"})(["position:relative;width:100%;"]),Xn=a.ZP.div.withConfig({componentId:"rychpq-5"})(["position:relative;width:100%;padding:16px;background-image:linear-gradient( 180deg,#ffffff80 0%,#ffffff 38%,#ffffff 100% );display:grid;grid-row-gap:12px;justify-items:center;"]),et=a.ZP.div.withConfig({componentId:"rychpq-6"})(["width:100%;display:grid;grid-row-gap:8px;justify-items:center;"]),nt=a.ZP.div.withConfig({componentId:"rychpq-7"})(["text-align:center;"]),tt=(0,a.ZP)(Fn.L).withConfig({componentId:"rychpq-8"})(["margin-top:10px;"]),ot=a.ZP.div.withConfig({componentId:"rychpq-9"})(["font-size:18px;font-weight:bold;margin:12px 0 8px;"]),it=a.ZP.div.withConfig({componentId:"rychpq-10"})(["font-size:16px;color:",";"],(function(e){return e.theme.newTextSemiDark})),rt=(0,a.ZP)(_n.z).withConfig({componentId:"rychpq-11"})(["margin:16px 0;"]),ct=a.ZP.div.withConfig({componentId:"rychpq-12"})(["color:",";margin-bottom:8px;"],(function(e){return e.theme.textDefault})),st=t(43805),ut=t(37672),dt=t(89509),at=t(11833),lt=t(12606),ft=(0,a.ZP)(Sn.$).withConfig({componentId:"o6jhm9-0"})(["background:",";padding:","px 0;"],(function(e){return e.theme.containerSecondaryBg}),(function(e){return e.theme.isMobile?0:40})),mt=function(e){var n=e.popular,t=e.post,i=e.comments,r=e.setHoverBanner,c=(0,at.Z)(),s=c.shouldMountMobileCommentHoverBanner,d=c.shouldMountMobileCommentHoverBannerExperiment;return(0,u.useEffect)((function(){var e=!n&&!!d,c=null;!n&&!!s?c=(0,o.jsx)(On,{post:t,comments:i}):e&&(c=(0,o.jsx)(Un,{post:t,comments:i})),r(c)}),[s,d,r,t,n,i]),null},pt=function(e){var n=e.children,t=e.title,i=e.post,r=e.popular,c=e.showAd,s=(0,d.I0)(),a=i.id,l=(0,u.useMemo)((function(){return(0,ut.Mo)({postId:a,popular:r})}),[a,r]),f=(0,P.Z)((function(e){return(0,ut.d5)(e,l)})),m=(0,P.Z)((function(e){return(0,ut.jP)(e,l)})),p=(0,u.useState)(null),h=p[0],x=p[1],g=f?f.fetched&&!f.index.length?null:(0,o.jsxs)(ft,{id:"comment-anchor",children:[!!f.index.length&&(0,o.jsx)(st.Z,{comments:m,post:i,title:t,showAd:c,showLoadMoreInGap:!r}),!r&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lt.default,{pagination:f,onLoadMore:function(){var e=m[m.length-1];s((0,dt.nQ)({postId:a,after:"".concat(e&&e.floor||0)}))}})}),!!f.index.length&&n]}):null;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(mt,{popular:r,post:i,comments:m,setHoverBanner:x}),h||g]})},ht=t(64330),xt=t(69176),gt=t(90836),vt=t(32631),bt=(0,l.default)((function(){return t.e(9317).then(t.bind(t,19317))}),{ssr:!1,loadableGenerated:{webpack:function(){return[19317]},modules:["../modules/comment/components/CommentModalProvider.tsx -> ./CommentModal"]}});function It(e){var n=e.children;return(0,o.jsxs)(vt.Z.Provider,{value:{useModal:!0},children:[n,(0,o.jsx)(bt,{})]})}var wt=t(59390),jt=t(63461),Zt=t(89039),Ct=t(76734),Pt=t(83994),yt="https://pse.is/3ghvz5";function St(e){var n=e.post,t=(0,re.Z)().formatMessage,i=(0,Pn.Z)(),r=n.forumAlias||i.query.forumAlias,c=(0,P.Z)((function(e){return(0,Nn.sh)(e,r)})),s=(0,P.Z)((function(e){var t,o;return null===(t=e.persona)||void 0===t||null===(o=t.data)||void 0===o?void 0:o[n.authorUid]})),d=(0,u.useCallback)((function(){window.open(yt,"blank")}),[]);return(0,o.jsxs)(Mt,{children:[(0,o.jsx)(rn.default,{children:t({id:"post.info.title"})}),(0,o.jsxs)(_t,{children:[s&&!n.isSuspiciousAccount&&(0,o.jsxs)(kt,{children:[(0,o.jsx)(Tt,{children:(0,o.jsx)(J.Z,{size:32,source:n})}),(0,o.jsx)(At,{children:(0,o.jsxs)(Nt,{children:[(0,o.jsx)(Et,{children:(0,o.jsx)(zt,{to:"/@".concat(n.authorUid),state:{sourceKey:"post_detail",sourceDetail:n.id},children:s.nickname})}),!!s.verifiedBadge&&(0,o.jsx)(we.Z,{type:je.g.verified})]})}),(0,o.jsxs)(Dt,{children:[t({id:"post.count.description_format"},{postCount:s.postCount}),"・",t({id:"follow.count.description_format"},{subscriptionCount:s.subscriptionCount})]}),s.subscriptable&&(0,o.jsx)(Ot,{children:(0,o.jsx)(Lt,{persona:s,position:"post_detail",size:kn.qE.Small})})]}),n.isEC&&(0,o.jsxs)(kt,{children:[(0,o.jsx)(Tt,{children:(0,o.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHkxPSIuMDAyIiB4Mj0iLjUiIHkyPSIxLjE0OCIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxzdG9wIG9mZnNldD0iLjA5NyIgc3RvcC1jb2xvcj0iI2ZmZDg3OSIvPjxzdG9wIG9mZnNldD0iLjE1NCIgc3RvcC1jb2xvcj0iI2ZjY2I3NiIvPjxzdG9wIG9mZnNldD0iLjI1OCIgc3RvcC1jb2xvcj0iI2Y1YWE2YyIvPjxzdG9wIG9mZnNldD0iLjM5OCIgc3RvcC1jb2xvcj0iI2U5NzU1ZSIvPjxzdG9wIG9mZnNldD0iLjQ0OSIgc3RvcC1jb2xvcj0iI2U0NWY1OCIvPjxzdG9wIG9mZnNldD0iLjY3OSIgc3RvcC1jb2xvcj0iI2QyMmE5YyIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzY5NjhkZiIvPjwvbGluZWFyR3JhZGllbnQ+PHN0eWxlPi5ie2ZpbGw6I2ZmZn08L3N0eWxlPjwvZGVmcz48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0idXJsKCNhKSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguODIyIDguODIxKSI+PHBhdGggY2xhc3M9ImIiIGQ9Ik0xMS4yNSAxNy4wMDRhNS43NTMgNS43NTMgMCAxMTUuNzU0LTUuNzU0IDUuNzYgNS43NiAwIDAxLTUuNzU0IDUuNzU0em0wLTkuOTU4YTQuMiA0LjIgMCAxMDQuMjA2IDQuMiA0LjIwOSA0LjIwOSAwIDAwLTQuMjA2LTQuMjAxeiIvPjxjaXJjbGUgY2xhc3M9ImIiIGN4PSIuNzE2IiBjeT0iLjcxNiIgcj0iLjcxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcuNDAzIDMuODkxKSIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTYuMjAyIDIyLjVoLTkuOWE2LjMgNi4zIDAgMDEtNi4zLTYuM1Y2LjNhNi4zIDYuMyAwIDAxNi4zLTYuM2g5LjlhNi4zIDYuMyAwIDAxNi4zIDYuM3Y5LjlhNi4zIDYuMyAwIDAxLTYuMyA2LjN6bS05LjktMjAuOTUxYTQuNzU1IDQuNzU1IDAgMDAtNC43NDkgNC43NXY5LjlhNC43NTUgNC43NTUgMCAwMDQuNzQ5IDQuNzQ5aDkuOWE0Ljc1NSA0Ljc1NSAwIDAwNC43NDktNC43NDl2LTkuOWE0Ljc1NSA0Ljc1NSAwIDAwLTQuNzQ5LTQuNzV6Ii8+PC9nPjwvc3ZnPg==",width:32})}),(0,o.jsx)(At,{children:(0,o.jsx)(Bt,{href:yt,children:t({id:"ec.instagram.title"})})}),(0,o.jsx)(Dt,{children:"@dcard.goodchoice"}),(0,o.jsx)(Ot,{children:(0,o.jsx)(_n.z,{onClick:d,size:kn.qE.Small,children:t({id:"follow.follow.action"})})})]}),c&&!c.isPersonaPage&&(0,o.jsxs)(kt,{children:[(0,o.jsx)(Tt,{children:(0,o.jsx)(Mn.Z,{forum:c,size:32})}),(0,o.jsx)(At,{children:(0,o.jsx)(zt,{to:"/f/".concat(c.alias),children:c.name})}),(0,o.jsx)(Dt,{children:t.apply(void 0,(0,$.Z)((0,Ct.oe)(c)))}),(0,o.jsx)(Ot,{children:(0,o.jsx)(Zt.ZP,{forum:c,position:"post_detail",size:kn.qE.Small})})]})]})]})}var Mt=a.ZP.div.withConfig({componentId:"fub27c-0"})(["background-color:",";",""],(function(e){return e.theme.whiteBg}),(function(e){return!e.theme.isMobile&&(0,a.iv)(["margin:40px 0;"])})),_t=a.ZP.div.withConfig({componentId:"fub27c-1"})(["padding:0 ","px;min-height:72px;"],(function(e){return e.theme.POST_VIEW_HORIZONTAL_PADDING})),kt=a.ZP.div.withConfig({componentId:"fub27c-2"})(["position:relative;display:grid;align-items:center;grid-template-columns:32px 8px 1fr auto;grid-template-rows:22px 0px 18px;grid-template-areas:'avatar . subtitle button' 'avatar . . button' 'avatar . info button';border-bottom:1px solid ",";padding:16px 0;&:last-child{border-bottom:",";}",""],(function(e){return e.theme.borderBlackTransparent5}),(function(e){return!e.theme.isMobile&&"none"}),(function(e){return e.theme.isMobile&&(0,a.iv)(["grid-template-columns:32px 8px 1fr auto;grid-template-rows:20px 0px 17px;"])})),Tt=a.ZP.div.withConfig({componentId:"fub27c-3"})(["grid-area:avatar;"]),Nt=a.ZP.div.withConfig({componentId:"fub27c-4"})(["display:flex;align-items:center;"]),Et=a.ZP.div.withConfig({componentId:"fub27c-5"})(["margin-right:2px;"]),At=a.ZP.div.withConfig({componentId:"fub27c-6"})(["grid-area:subtitle;",";",";"],(function(e){return e.theme.subtitle2}),(function(e){return e.theme.ellipsis})),Dt=a.ZP.div.withConfig({componentId:"fub27c-7"})(["grid-area:info;color:",";",";",";margin-top:-1px;"],(function(e){return e.theme.textDefault}),(function(e){return e.theme.caption}),(function(e){return e.theme.ellipsis})),Ot=a.ZP.div.withConfig({componentId:"fub27c-8"})(["grid-area:button;"]),Lt=(0,a.ZP)(oe.ZP).withConfig({componentId:"fub27c-9"})(["margin-left:","px;"],(function(e){return e.theme.isMobile?24:32})),Rt=(0,a.iv)(["color:",";&::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;}"],(function(e){return e.theme.newTextDark})),zt=(0,a.ZP)(D.Z).withConfig({componentId:"fub27c-10"})(["",";"],Rt),Bt=(0,a.ZP)(Pt.Z).withConfig({componentId:"fub27c-11"})(["",";"],Rt),Ht=t(20725),Gt=t(58278),qt=t(18902),Ft=t(68600);var Vt=function(e){var n=e.enable,t=e.children,i=e.product,r=(0,P.Z)((function(e){return(0,y.TP)(e)}));return n&&r===i?(0,o.jsx)(o.Fragment,{children:t}):null},Yt=(0,l.default)((function(){return Promise.all([t.e(6288),t.e(7991)]).then(t.bind(t,7991))}),{ssr:!1,loadableGenerated:{webpack:function(){return[7991]},modules:["../modules/post/components/PostView/PostView.tsx -> ./TopAdVideo"]}}),Ut=(0,l.default)((function(){return Promise.all([t.e(1023),t.e(7060)]).then(t.bind(t,97060))}),{ssr:!1,loadableGenerated:{webpack:function(){return[97060]},modules:["../modules/post/components/PostView/PostView.tsx -> ./ToolbarContainer"]}}),Wt=(0,l.default)((function(){return t.e(2461).then(t.bind(t,92461))}),{ssr:!1,loadableGenerated:{webpack:function(){return[92461]},modules:["../modules/post/components/PostView/PostView.tsx -> ../ECExpandableSection/WarmReminder"]}}),Kt=(0,l.default)((function(){return t.e(2814).then(t.bind(t,22814))}),{ssr:!1,loadableGenerated:{webpack:function(){return[22814]},modules:["../modules/post/components/PostView/PostView.tsx -> ../ECExpandableSection/SpecContent"]}}),Qt=(0,l.default)((function(){return t.e(8268).then(t.bind(t,68268))}),{ssr:!1,loadableGenerated:{webpack:function(){return[68268]},modules:["../modules/post/components/PostView/PostView.tsx -> ../GoodList"]}}),$t=a.ZP.div.withConfig({componentId:"sc-1bx44oc-0"})(["border-radius:4px;min-height:100%;width:100%;padding-bottom:var(--safe-area-inset-bottom);background:",";display:flex;flex-direction:column;"],(function(e){return e.theme.containerBg})),Jt=(0,a.ZP)(Sn.$).withConfig({componentId:"sc-1bx44oc-1"})(["padding:16px 0;"]),Xt=a.ZP.div.withConfig({componentId:"sc-1bx44oc-2"})(["background:",";position:relative;display:flex;justify-content:center;padding:",";"],(function(e){return e.theme.containerBg}),(function(e){return e.theme.isMobile?"".concat(e.theme.POST_VIEW_VERTICAL_PADDING,"px 0"):""})),eo=a.ZP.div.withConfig({componentId:"sc-1bx44oc-3"})(["padding-bottom:","px;"],(function(e){return e.theme.isMobile&&e.theme.POST_BAR_HEIGHT})),no=a.ZP.div.withConfig({componentId:"sc-1bx44oc-4"})(["padding:22px ","px;"],(function(e){return e.theme.POST_LIST_SECTION_HORIZONTAL_PADDING+e.theme.POST_LIST_SECTION_HORIZONTAL_MARGIN})),to=a.ZP.div.withConfig({componentId:"sc-1bx44oc-5"})(["flex:1;display:flex;flex-direction:column;background:",";> div{flex:1;}"],(function(e){return e.theme[e.hasComment?"containerSecondaryBg":"containerBg"]})),oo=a.ZP.div.withConfig({componentId:"sc-1bx44oc-6"})(["padding-bottom:","px;"],(function(e){return e.theme.POST_BAR_HEIGHT})),io=a.ZP.div.withConfig({componentId:"sc-1bx44oc-7"})(["padding-bottom:","px;"],(function(e){return e.theme.isMobile?66:120}));function ro(e){var n,t,r,a,l,p=e.post,h=e.enableToolbar,x=void 0===h||h,g=e.children,v=(0,re.Z)().formatMessage,b=(0,P.Z)(y.cm),I=(0,P.Z)(y.Hu),w=(0,Pn.Z)(),j=p.enableAd&&I,Z=p.id,C=(0,P.Z)((function(e){return(0,Gt.w)(e,Z)})),M=(0,P.Z)((function(e){return(0,ut.d5)(e,(0,ut.Mo)({postId:Z,popular:!1}))})),_=M.noMore||M.error,k=(0,wt.Gc)().scrollTo;(0,u.useEffect)((function(){var e=w.query,n=e.forumAlias,t=e.postId,o=(0,i.Z)(e,["forumAlias","postId"]);n&&p.forumAlias&&t&&n!==p.forumAlias&&w.replaceRoute("post",{forumAlias:p.forumAlias,postId:Z},o,{shallow:!0})}),[p.forumAlias,Z,w]),(0,u.useEffect)((function(){k&&k({left:0,top:0})}),[Z,k]),function(e,n){var t=(0,d.I0)(),o=(0,P.Z)((function(e){return e.post.elevated})),i=(0,jt.D)(o),r=(0,wt.Gc)();(0,wt.pm)(r),(0,u.useEffect)((function(){function u(e){r.scrollTo({top:e})}function d(){u(Number.MAX_SAFE_INTEGER)}function a(){return(a=(0,s.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t((0,dt.nQ)({postId:e.id,before:"".concat(e.commentCount+1)}));case 2:requestAnimationFrame((function(){d()}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}i!==o&&(!0===o?n?d():function(){a.apply(this,arguments)}():!1===o&&u(0))}),[t,r,o,i,n,e.id,e.commentCount])}(p,_);var T="string"===typeof p.content;return(0,o.jsxs)(It,{children:[(0,o.jsx)(m.Z,{type:m.f.post,ctx:{post:p,haowuCampaign:C}}),(0,o.jsx)(Vt,{enable:j&&!p.adVideoId,product:"Dcard",children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.MobileArticleTop})})}),j&&p.adVideoId&&(0,o.jsx)(Yt,{post:p}),(0,o.jsx)(Sn.$,{children:(0,o.jsx)(De,{post:p})}),(0,o.jsx)(Q,{post:p,isMobile:I}),T&&(0,o.jsx)(yn,{postId:p.id}),T&&!p.backupMessage&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(z.Z,{children:(0,o.jsx)(on,{post:p})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(Sn.$,{children:(0,o.jsx)(Kt,{postId:p.id})})}),!p.isECSharing&&(0,o.jsx)(z.Z,{children:(0,o.jsx)(St,{post:p})}),(0,o.jsx)(Vt,{enable:!I&&!b&&p.enableAd,product:"Dcard",children:(0,o.jsx)(Jt,{children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.DesktopArticleBottom})})})}),(0,o.jsx)(Vt,{enable:j,product:"Dcard",children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.MobileArticleBottom})})}),(0,o.jsx)(Vt,{enable:j,product:"Dtto",children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.DttoMobileArticleBottom})})}),I&&(0,o.jsx)(z.Z,{children:(0,o.jsx)(Sn.$,{children:"similarPosts"===(null===(n=p.customStyle)||void 0===n?void 0:n.darsysType)&&(0,o.jsx)(Zn,{postId:p.id})})}),(null===(t=p.customStyle)||void 0===t?void 0:t.showPopularComments)&&(0,o.jsx)(z.Z,{children:(0,o.jsx)(pt,{post:p,title:v({id:"comment_list.hot.title"}),popular:!0,children:(0,o.jsx)(Vt,{enable:j,product:"Dcard",children:(0,o.jsx)(Sn.$,{children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.MobilePopularCommentsBottom})})})})})}),!I&&(0,o.jsx)(z.Z,{children:(0,o.jsx)(Sn.$,{children:"similarPosts"===(null===(r=p.customStyle)||void 0===r?void 0:r.darsysType)&&(0,o.jsx)(Zn,{postId:p.id})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(Sn.$,{children:(0,o.jsx)(Wt,{postId:p.id})})}),(0,o.jsx)(z.Z,{children:(0,o.jsx)(Sn.$,{children:"similarProducts"===(null===(a=p.customStyle)||void 0===a?void 0:a.darsysType)&&(0,o.jsx)(Qt,{postId:p.id})})}),(0,o.jsx)(S,{}),g,(0,o.jsx)(E,{}),(0,o.jsx)(Vt,{enable:j&&_,product:"Dcard",children:(0,o.jsx)(Sn.$,{children:(0,o.jsx)(Xt,{children:(0,o.jsx)(f.Z,{placement:gn.Y.MobileLatestCommentsBottom})})})}),(I||(null===(l=p.customStyle)||void 0===l?void 0:l.enableSurveyButton))&&(0,o.jsx)(io,{}),x&&(0,o.jsx)(eo,{children:(0,o.jsx)(Ut,{post:p})}),x&&!I&&(0,o.jsx)(oo,{})]})]})}function co(e){var n=e.enableToolbar,t=e.children,i=(0,gt.Z)(),r=(0,P.Z)((function(e){return(0,xt.pm)(e,i)})),c=(0,P.Z)(y.Hu),s=(0,d.I0)(),l=(0,u.useContext)(a.Ni),f=(0,u.useMemo)((function(){var e=l.HEADER_HEIGHT;return c?0:e}),[c,l]);return function(e){var n=e.postId,t=(0,P.Z)((function(e){return(0,Gt.w)(e,n)})),o=null===t||void 0===t?void 0:t.id,i=null===t||void 0===t?void 0:t.coupons,r=(0,P.Z)(y.cm),c=(0,d.I0)(),s=(0,u.useMemo)((function(){var e;switch(null!==(e=null===t||void 0===t?void 0:t.state)&&void 0!==e?e:Ft.vh.Disable){case Ft.vh.Disable:case Ft.vh.EndOfSale:case Ft.vh.OutOfStock:return!0;default:return!1}}),[t]);(0,u.useEffect)((function(){r&&o&&!i&&!s&&c((0,qt.S)({campaignId:o,postId:n}))}),[o,c,r,s,i,n])}({postId:i}),(0,u.useEffect)((function(){function e(){s((0,ht.SB)(null))}return e(),function(){e()}}),[s,i]),(0,o.jsx)(Ht.Z,{uniqKey:Ht.k.Post,autoplay:(null===r||void 0===r?void 0:r.layout)===B.jc.video||!(null===r||void 0===r||!r.enableAd),onScreenRootMargin:"-".concat(f,"px 0px 0px"),children:(0,o.jsx)($t,{children:r?(0,o.jsx)(ro,{post:r,enableToolbar:n,children:t}):(0,o.jsx)(Sn.$,{children:(0,o.jsx)(no,{children:(0,o.jsx)(g,{})})})})})}function so(e){var n=e.enableToolbar,t=(0,re.Z)().formatMessage,i=(0,P.Z)(y.cm),r=(0,P.Z)(y.Hu),c=(0,gt.Z)(),s=(0,P.Z)((function(e){return(0,xt.pm)(e,c)})),u=(null===s||void 0===s?void 0:s.enableAd)&&(r||!r&&!i);return(0,o.jsx)(co,{enableToolbar:n,children:s&&(0,o.jsx)(to,{hasComment:!!s.commentCount,children:(0,o.jsx)(z.Z,{children:(0,o.jsx)(pt,{post:s,title:t({id:"post.comment_list.title_format"},{commentCount:null===s||void 0===s?void 0:s.commentCount}),showAd:u})})})})}},57699:function(e,n,t){"use strict";var o=t(34149);n.Z=o.ZP.h1.withConfig({componentId:"sc-1932jlp-0"})(["",";word-wrap:break-word;color:",";"],(function(e){return e.theme.headline2}),(function(e){return e.theme.textDark}))},16384:function(e,n,t){"use strict";t.d(n,{$:function(){return o}});var o=t(34149).ZP.div.withConfig({componentId:"hu2j89-0"})(["background:",";"],(function(e){return e.theme.isMobile&&e.theme.containerBg}))},15457:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var o=t(59394),i=t(52322),r=t(83112),c=t(54321);function s(e){var n=(0,r.Z)().formatMessage;return(0,i.jsx)(c.default,(0,o.Z)((0,o.Z)({},e),{},{title:n({id:"member.suspicious.title"}),description:n({id:"member.suspicious.description"}),showCancel:!1,confirmText:n({id:"general.got_it.action"}),closeOnConfirm:!0}))}},22822:function(e,n,t){"use strict";var o=t(52322),i=t(2784),r=t(34149),c=t(17736),s=t(83112),u=t(70628),d=r.ZP.div.withConfig({componentId:"cgoejl-0"})(["display:flex;align-items:center;"]),a=r.ZP.img.attrs((function(e){return{style:{zIndex:e.zIndex}}})).withConfig({componentId:"cgoejl-1"})(["display:block;border-radius:50%;border:2px solid ",";margin-left:-4px;box-sizing:content-box;&:first-child{margin-left:0;}"],(function(e){return e.theme.isMobile?e.theme.textWhite:e.theme.containerBg})),l=r.ZP.div.withConfig({shouldForwardProp:function(e,n){return!["opacity","size"].includes(e)&&n(e)}}).withConfig({componentId:"cgoejl-2"})(["display:flex;align-items:center;opacity:",";","{width:","px;height:","px;}"],(function(e){return e.opacity}),a,(function(e){return e.size}),(function(e){return e.size})),f=r.ZP.div.withConfig({componentId:"cgoejl-3"})(["padding-left:6px;"]);n.Z=function(e){var n=e.count,t=e.reactions,r=void 0===t?[]:t,m=e.iconOpacity,p=void 0===m?1:m,h=e.iconSize,x=void 0===h?16:h,g=e.onClick,v=e.className,b=(0,s.Z)().formatMessage,I=(0,i.useMemo)((function(){return r.filter((function(e){return e.thumbnail||e.url})).slice(0,c.KI)}),[r]);return(0,o.jsxs)(d,{onClick:g,className:v,children:[(0,o.jsx)(l,{opacity:p,size:x,children:I.length?I.map((function(e,n){return(0,o.jsx)(a,{zIndex:I.length-n,src:e.thumbnail||e.url,title:e.name},e.id)})):(0,o.jsx)(a,{srcSet:u.srcSet,src:u.src,title:b({id:"reaction.info.title"})})}),(0,o.jsx)(f,{children:n})]})}},78123:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var o=t(2784);function i(){var e=(0,o.useState)(!1),n=e[0],t=e[1],i=(0,o.useRef)(null),r=(0,o.useRef)((function(){t(!1)}));return(0,o.useEffect)((function(){function e(){t(!0)}function o(n){[32,33,34,35,36,38,40].includes(n.which)&&e()}return n||setTimeout((function(){return function(){var n;window.addEventListener("wheel",e),window.addEventListener("touchmove",e),window.addEventListener("keydown",o),null===(n=i.current)||void 0===n||n.addEventListener("click",e)}()})),function(){var n;window.removeEventListener("wheel",e),window.removeEventListener("touchmove",e),window.removeEventListener("keydown",o),null===(n=i.current)||void 0===n||n.removeEventListener("click",e)}}),[n]),[n,r.current,i]}},70628:function(e){e.exports={srcSet:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png 16w,/_next/static/media/heartGray-32-9c0e90a5ea379852c6d9ba849e1f26f0.png 32w,/_next/static/media/heartGray-48-9a9c828eda3e4db12e48e1387f534f1d.png 48w",images:[{path:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png",width:16,height:16},{path:"/_next/static/media/heartGray-32-9c0e90a5ea379852c6d9ba849e1f26f0.png",width:32,height:32},{path:"/_next/static/media/heartGray-48-9a9c828eda3e4db12e48e1387f534f1d.png",width:48,height:48}],src:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png",toString:function(){return"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png"},placeholder:void 0,width:16,height:16}},14344:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var o=t(2784);const i="undefined"===typeof document?void 0:document,[r,c]="undefined"===typeof i?[]:"undefined"!==typeof i.hidden?["hidden","visibilitychange"]:"undefined"!==typeof i.msHidden?["msHidden","msvisibilitychange"]:"undefined"!==typeof i.webkitHidden?["webkitHidden","webkitvisibilitychange"]:[],s=()=>{const[e,n]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{if(!r||!c||!i)return;const e=()=>{n(!i[r])};return i.addEventListener(c,e,!1),()=>{i.removeEventListener(c,e,!1)}}),[]),e}},53012:function(e,n,t){"use strict";var o=t(2784),i=(0,t(86401).F)({viewBox:"0 0 24 24"},[o.createElement("path",{d:"M13.2 12l5.6-5.6a.4.4 0 000-.6l-.6-.6a.4.4 0 00-.6 0L12 10.8 6.4 5.2a.4.4 0 00-.6 0l-.6.6a.4.4 0 000 .6l5.6 5.6-5.6 5.6a.4.4 0 000 .6l.6.6a.4.4 0 00.6 0l5.6-5.6 5.6 5.6a.4.4 0 00.6 0l.6-.6a.4.4 0 000-.6z"})]);n.Z=i},35155:function(e,n,t){"use strict";t.d(n,{F:function(){return c}});var o=t(2784),i=t(808),r=t(5201);function c(){const e=(0,r.S)(),[n,t]=(0,o.useState)({});return(0,o.useEffect)((()=>{if(!e)return;const n=i.t.getConfig();Object.keys(n).length>0&&t(n)}),[e]),n}},5201:function(e,n,t){"use strict";t.d(n,{S:function(){return r}});var o=t(2784),i=t(808);function r(){const[e,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{i.t.waitForConfig().then((()=>n(!0))).catch((e=>{console.error(e)}))}),[]),e}},54267:function(e,n,t){"use strict";t.d(n,{Vq:function(){return m}});var o=t(5163),i=t(52322),r=t(61493),c=t(34149),s=t(51808),u=t(89342),d=t(12463);const a=c.ZP.div.withConfig({componentId:"sc-1hsj17j"})`padding-bottom:${e=>e.paddingBottom}px;`,l=c.ZP.div.withConfig({componentId:"sc-1exalz1"})`margin-bottom:4px;color:${e=>e.theme.color.textSemiDark};${e=>e.theme.font.body1};`,f=(0,c.ZP)(s.fK).attrs((e=>({textColor:e.theme.color.textDark}))).withConfig({componentId:"sc-1lraloe"})``,m=e=>{var{children:n,onClose:t,title:c,description:s,showCloseButton:m=!0,align:p=r.x.Left,className:h,dialogHeaderPaddingBottom:x=8}=e,g=(0,o._T)(e,["children","onClose","title","description","showCloseButton","align","className","dialogHeaderPaddingBottom"]);return(0,i.jsx)(u.TW,Object.assign({},g,{onClose:t},{children:(0,i.jsxs)(d.c,Object.assign({className:h},{children:[c&&(0,i.jsx)(a,Object.assign({paddingBottom:x},{children:(0,i.jsx)(f,Object.assign({align:p,onClose:t,showCloseButton:m},{children:c}),void 0)}),void 0),s&&(0,i.jsx)(l,{children:s},void 0),n]}),void 0)}),void 0)}},89342:function(e,n,t){"use strict";t.d(n,{TW:function(){return a}});var o=t(5163),i=t(52322),r=t(39658),c=t(68233),s=t(34149);const u=s.ZP.div.withConfig({componentId:"sc-10cnpkh"})`width:100%;min-height:100%;display:flex;align-items:center;justify-content:center;padding:16px 0;`,d=s.ZP.div.withConfig({componentId:"sc-8gh8k6"})`background:${e=>e.theme.color.uiForeground1};border-radius:12px;box-shadow:rgba(0, 0, 0, 0.05)0px 4px 4px 0px,rgba(0, 0, 0, 0.15)0px 0px 4px 0px;position:relative;width:100%;max-width:350px;${e=>r.HY[e.transition]};`,a=e=>{var{children:n,transition:t=r.uT.Popup,width:s}=e,a=(0,o._T)(e,["children","transition","width"]);return(0,i.jsx)(c.aV,Object.assign({},a,{children:(0,i.jsx)(u,Object.assign({onClick:e=>e.stopPropagation()},{children:(0,i.jsx)(d,Object.assign({transition:t,style:Object.assign({},s&&{maxWidth:s})},{children:n}),void 0)}),void 0)}),void 0)}},12463:function(e,n,t){"use strict";t.d(n,{c:function(){return i}});var o=t(34149);const i=o.ZP.div.withConfig({componentId:"sc-elgdum"})`padding:${e=>e.noPadding?0:24}px;max-width:100%;`}}]);
//# sourceMappingURL=1120-84e9b8a4bdbffbdcdac3.js.map