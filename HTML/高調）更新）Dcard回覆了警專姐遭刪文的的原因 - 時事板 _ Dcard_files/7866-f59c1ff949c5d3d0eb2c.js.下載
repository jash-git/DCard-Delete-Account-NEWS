(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7866],{1093:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(49814),r=i(55219);function o(){return(0,n.Z)(r.fI).isDcard?"dcard.tw":"dtto.com"}},7866:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return C}});var n=i(52322),r=i(66811),o=i(2784),c=i(49814),a=i(55219),d=i(69176),s=i(76349),l=i(808),u=i(64330),h=i(34149),f=i(83112),m=i(22822),g=h.ZP.div.withConfig({componentId:"sc-1iuyi91-0"})(["color:",";display:flex;align-items:center;overflow:hidden;",";"],(function(e){return e.theme.textLight}),(function(e){return e.theme.body2})),p=h.ZP.div.withConfig({componentId:"sc-1iuyi91-1"})(["display:flex;align-items:center;margin-right:16px;&:last-child{margin-right:0;}"]),x=h.ZP.div.withConfig({componentId:"sc-1iuyi91-2"})(["margin-right:8px;"]),w=function(e){var t=e.post,i=(0,f.Z)().formatMessage;return(0,n.jsxs)(g,{children:[(0,n.jsx)(p,{children:(0,n.jsx)(m.Z,{count:t.reactionCount,reactions:t.reactions})}),(0,n.jsx)(p,{children:(0,n.jsx)(x,{children:i({id:"comment.count.status_format"},{commentCount:(0,n.jsx)("span",{children:t.commentCount})})})})]})},v=(0,o.memo)(w),j=i(50039),y=i(1093),Z=i(45227),b=i(45227);function C(e){var t,i,h,f,m,g=e.id,p=e.fallbackForumAlias,x=e.fallbackTitle,w=e.source,C=e.enableClick,I=void 0===C||C,q=e.margin,k=(0,r.I0)(),P=(0,c.Z)((function(e){return(0,d.pm)(e,g)})),_=(0,c.Z)((function(e){return(0,d.uB)(e,g)})),T=(0,c.Z)(a.TP),z=(0,y.Z)(),M=(0,o.useState)(!P&&!_),S=M[0],B=M[1],F=null!==(t=null!==(i=null===P||void 0===P?void 0:P.forumAlias)&&void 0!==i?i:p)&&void 0!==t?t:"all",L=null!==(h=null!==(f=null===P||void 0===P?void 0:P.title)&&void 0!==f?f:x)&&void 0!==h?h:"",A=null!==(m=null===P||void 0===P?void 0:P.excerpt)&&void 0!==m?m:"";(0,o.useEffect)((function(){var e;S&&(null===(e=(0,u.gR)(k,g))||void 0===e||e.then((function(){B(!1)})))}),[k,g,S]);var D=(0,o.useCallback)((function(){l.t.enqueue({event:"urlClicked",payload:{url:"/f/".concat(F,"/p/").concat(g),source:w&&w.key||"",sourceDetail:w&&w.detail||"",previewType:"link_preview"}})}),[F,g,w]),E=(0,o.useMemo)((function(){return P?(0,n.jsx)(v,{post:P}):(0,n.jsx)("span",{children:z})}),[P,z]),G=(0,o.useMemo)((function(){var e;return null!==P&&void 0!==P&&P.replyId?null!==(e=null===P||void 0===P?void 0:P.replyTitle)&&void 0!==e?e:"":A}),[A,P]),H=(0,o.useMemo)((function(){if(!_&&P)return P.thumbnail?P.thumbnail:"Dtto"===T?b:Z}),[P,_,T]),N=(0,n.jsx)(j.Z,{loading:S,title:L,description:G,thumbnail:H,footer:E,multiLineTitle:!(null!==P&&void 0!==P&&P.replyTitle),showQuote:!(null===P||void 0===P||!P.replyTitle),margin:q});return I?(0,n.jsx)(s.Z,{forumAlias:F,postId:g,state:{sourceKey:w&&w.key||"",sourceDetail:w&&w.detail||""},onClick:D,children:N}):N}},50039:function(e,t,i){"use strict";i.d(t,{Z:function(){return A}});var n=i(59394),r=i(54530),o=i(52322),c=i(34149),a=i(2784),d=i(33e3),s=(0,i(86401).F)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[a.createElement("path",{className:"link_svg__a",d:"M17 7h-3a1 1 0 00-1 1 1 1 0 001 1h3a3 3 0 013 3 3 3 0 01-3 3h-3a1 1 0 00-1 1 1 1 0 001 1h3a5.006 5.006 0 005-5 5.006 5.006 0 00-5-5zM10 15H7a3 3 0 01-3-3 3 3 0 013-3h3a1 1 0 001-1 1 1 0 00-1-1H7a5.006 5.006 0 00-5 5 5.006 5.006 0 005 5h3a1 1 0 001-1 1 1 0 00-1-1z"}),a.createElement("path",{className:"link_svg__a",d:"M8 12a1 1 0 001 1h6a1 1 0 001-1 1 1 0 00-1-1H9a1 1 0 00-1 1z"})]),l=i(49814),u=i(55219),h=i(90809),f=i(70932),m=92;function g(){return(0,o.jsxs)(x,{children:[(0,o.jsx)(v,{ratio:2.260869565217391,children:(0,o.jsxs)(f.Z,{viewBoxWidth:208,viewBoxHeight:m,children:[(0,o.jsx)("rect",{x:12,y:16,width:132,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:40,width:184,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:68,width:64,height:8,rx:4})]})}),(0,o.jsx)(j,{ratio:1,children:(0,o.jsx)(f.Z,{viewBoxWidth:m,viewBoxHeight:m,children:(0,o.jsx)("rect",{x:0,width:m,height:m})})})]})}var p,x=c.ZP.div.withConfig({componentId:"jtd4y5-0"})(["display:grid;grid-template-columns:","px 1fr ","px;grid-template-areas:'left . right';width:100%;"],208,m),w=(0,c.ZP)(h.Z).withConfig({componentId:"jtd4y5-1"})(["width:100%;"]),v=(0,c.ZP)(w).withConfig({componentId:"jtd4y5-2"})(["grid-area:left;"]),j=(0,c.ZP)(w).withConfig({componentId:"jtd4y5-3"})(["grid-area:right;"]),y=(0,c.ZP)(h.Z).withConfig({componentId:"okwoqf-0"})(["width:100%;"]),Z=function(){return(0,o.jsx)(y,{ratio:6.608695652173913,children:(0,o.jsxs)(f.Z,{viewBoxWidth:608,viewBoxHeight:92,children:[(0,o.jsx)("rect",{x:12,y:16,width:200,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:40,width:332,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:68,width:100,height:8,rx:4}),(0,o.jsx)("rect",{x:516,width:92,height:92})]})})};!function(e){e[e.dcard=0]="dcard",e[e.reply=1]="reply"}(p||(p={}));var b=c.ZP.div.withConfig({componentId:"sc-17aqgmq-0"})(["display:flex;align-items:center;justify-content:space-between;margin:",";border:1px solid ",";border-radius:12px;background:",";width:100%;height:92px;overflow:hidden;"],(function(e){return e.margin}),(function(e){return e.theme.uiSeparator}),(function(e){return e.theme.whiteBg})),C=c.ZP.div.withConfig({componentId:"sc-17aqgmq-1"})(["display:grid;align-items:center;grid-template-rows:1fr 4px "," 20px;grid-template-areas:'title' '.' 'excerpt' 'footer';padding:12px;flex:1;height:100%;font-size:12px;color:",";"],(function(e){return e.isTitleMultiLine?0:"20px"}),(function(e){return e.theme.newTextSemiLight})),I=c.ZP.div.withConfig({componentId:"sc-17aqgmq-2"})(["grid-area:title;"]),q=c.ZP.h3.withConfig({componentId:"sc-17aqgmq-3"})(["",";",";color:",";word-break:break-word;"],(function(e){return e.theme.multiEllipsis(e.multiLineTitle?2:1)}),(function(e){return e.theme.subtitle1}),(function(e){return e.theme.text})),k=c.ZP.div.withConfig({componentId:"sc-17aqgmq-4"})(["grid-area:excerpt;font-size:14px;color:",";line-height:20px;display:flex;align-items:center;overflow:hidden;p{width:calc(100% - 16px);",";}"],(function(e){return e.theme.newTextSemiDark}),(function(e){return e.theme.ellipsis})),P=c.ZP.img.attrs({loading:"lazy",referrerPolicy:"no-referrer"}).withConfig({componentId:"sc-17aqgmq-5"})(["object-fit:cover;overflow:hidden;width:100%;height:100%;"]),_=c.ZP.div.withConfig({componentId:"sc-17aqgmq-6"})(["width:92px;height:92px;position:relative;"]),T=c.ZP.div.withConfig({componentId:"sc-17aqgmq-7"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:",";"],(function(e){return e.theme.maskImage})),z=c.ZP.div.withConfig({componentId:"sc-17aqgmq-8"})(["width:92px;height:92px;background-color:",";display:flex;align-items:center;justify-content:center;"],(function(e){return e.theme.placeholderBg})),M=c.ZP.div.withConfig({componentId:"sc-17aqgmq-9"})(["height:16px;width:4px;background-color:rgba(0,0,0,0.15);margin-right:4px;"]),S=c.ZP.div.withConfig({componentId:"sc-17aqgmq-10"})(["grid-area:footer;"]),B=(0,c.ZP)(s).attrs((function(e){return{fill:e.theme.newTextLight,size:24}})).withConfig({componentId:"sc-17aqgmq-11"})([""]),F=function(e){var t=e.title,i=e.thumbnail,n=e.description,r=e.footer,c=e.multiLineTitle,s=void 0!==c&&c,l=e.showQuote,u=void 0!==l&&l,h=(0,a.useRef)(null),f=(0,a.useState)(!!i),m=f[0],g=f[1],p=(0,d.h)(h).height,x=s&&p>22;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C,{isTitleMultiLine:x,children:[(0,o.jsx)(I,{children:(0,o.jsx)(q,{ref:h,multiLineTitle:s,children:t})}),!x&&(0,o.jsxs)(k,{children:[u&&(0,o.jsx)(M,{}),(0,o.jsx)("p",{children:n})]}),(0,o.jsx)(S,{children:r})]}),(0,o.jsxs)(_,{children:[m?(0,o.jsx)(P,{src:i,onError:function(){return g(!1)}}):(0,o.jsx)(z,{children:(0,o.jsx)(B,{})}),m&&(0,o.jsx)(T,{})]})]})},L=function(e){var t=e.loading,i=void 0!==t&&t,c=e.margin,a=void 0===c?"4px 0":c,d=(0,r.Z)(e,["loading","margin"]),s=(0,l.Z)(u.Hu);return(0,o.jsx)(b,{margin:a,children:i?s?(0,o.jsx)(g,{}):(0,o.jsx)(Z,{}):(0,o.jsx)(F,(0,n.Z)({},d))})},A=(0,a.memo)(L)},76349:function(e,t,i){"use strict";i.d(t,{F:function(){return h}});var n=i(52322),r=i(54530),o=i(59394),c=i(2784),a=i(39097),d=i(43248),s=i(17726),l=i(37674),u=i(19126);function h(e){var t=e.forumAlias,i=void 0===t?"all":t,n=e.postId,r=e.state,c=e.router,a=e.withModal,d=e.commentFloor,s=(0,u.stringify)((0,o.Z)((0,o.Z)({},c.query),{},{forumAlias:i,postId:n,commentFloor:d},r)),l=d?"/comment":a?c.route:"/post";return{href:"".concat(l,"?").concat(s),as:function(){var e="/f/".concat(i,"/p/").concat(n);return d?"".concat(e,"/b/").concat(d):e}(),prefetch:!1,shallow:a}}t.Z=(0,c.forwardRef)((function(e,t){var i=e.children,u=e.forumAlias,f=e.postId,m=e.state,g=e.preventDefault,p=e.commentFloor,x=(0,r.Z)(e,["children","forumAlias","postId","state","preventDefault","commentFloor"]),w=(0,c.useContext)(s.Z).closeModal,v=h({forumAlias:u,postId:f,state:m,router:(0,d.Z)(),commentFloor:p,withModal:!!w});return(0,n.jsx)(a.default,(0,o.Z)((0,o.Z)({scroll:!1},v),{},{children:(0,n.jsx)("a",(0,o.Z)((0,o.Z)({ref:t},(0,l.h)(x)),{},{onClick:function(e){g&&e.preventDefault(),x.onClick&&x.onClick(e)},children:i}))}))}))},17726:function(e,t,i){"use strict";var n=i(2784).createContext({});t.Z=n},22822:function(e,t,i){"use strict";var n=i(52322),r=i(2784),o=i(34149),c=i(17736),a=i(83112),d=i(70628),s=o.ZP.div.withConfig({componentId:"cgoejl-0"})(["display:flex;align-items:center;"]),l=o.ZP.img.attrs((function(e){return{style:{zIndex:e.zIndex}}})).withConfig({componentId:"cgoejl-1"})(["display:block;border-radius:50%;border:2px solid ",";margin-left:-4px;box-sizing:content-box;&:first-child{margin-left:0;}"],(function(e){return e.theme.isMobile?e.theme.textWhite:e.theme.containerBg})),u=o.ZP.div.withConfig({shouldForwardProp:function(e,t){return!["opacity","size"].includes(e)&&t(e)}}).withConfig({componentId:"cgoejl-2"})(["display:flex;align-items:center;opacity:",";","{width:","px;height:","px;}"],(function(e){return e.opacity}),l,(function(e){return e.size}),(function(e){return e.size})),h=o.ZP.div.withConfig({componentId:"cgoejl-3"})(["padding-left:6px;"]);t.Z=function(e){var t=e.count,i=e.reactions,o=void 0===i?[]:i,f=e.iconOpacity,m=void 0===f?1:f,g=e.iconSize,p=void 0===g?16:g,x=e.onClick,w=e.className,v=(0,a.Z)().formatMessage,j=(0,r.useMemo)((function(){return o.filter((function(e){return e.thumbnail||e.url})).slice(0,c.KI)}),[o]);return(0,n.jsxs)(s,{onClick:x,className:w,children:[(0,n.jsx)(u,{opacity:m,size:p,children:j.length?j.map((function(e,t){return(0,n.jsx)(l,{zIndex:j.length-t,src:e.thumbnail||e.url,title:e.name},e.id)})):(0,n.jsx)(l,{srcSet:d.srcSet,src:d.src,title:v({id:"reaction.info.title"})})}),(0,n.jsx)(h,{children:t})]})}},45227:function(e){e.exports={srcSet:"/_next/static/media/dcard-square-icon-184-152045ee8b0a96ef19fe625f09c18807.png 184w",images:[{path:"/_next/static/media/dcard-square-icon-184-152045ee8b0a96ef19fe625f09c18807.png",width:184,height:184}],src:"/_next/static/media/dcard-square-icon-184-152045ee8b0a96ef19fe625f09c18807.png",toString:function(){return"/_next/static/media/dcard-square-icon-184-152045ee8b0a96ef19fe625f09c18807.png"},placeholder:void 0,width:184,height:184}},70628:function(e){e.exports={srcSet:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png 16w,/_next/static/media/heartGray-32-9c0e90a5ea379852c6d9ba849e1f26f0.png 32w,/_next/static/media/heartGray-48-9a9c828eda3e4db12e48e1387f534f1d.png 48w",images:[{path:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png",width:16,height:16},{path:"/_next/static/media/heartGray-32-9c0e90a5ea379852c6d9ba849e1f26f0.png",width:32,height:32},{path:"/_next/static/media/heartGray-48-9a9c828eda3e4db12e48e1387f534f1d.png",width:48,height:48}],src:"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png",toString:function(){return"/_next/static/media/heartGray-16-7173faecf2e219ca79ffc6c88e3959dd.png"},placeholder:void 0,width:16,height:16}},33e3:function(e,t,i){"use strict";i.d(t,{h:function(){return a}});var n=i(2784),r=i(54073),o=i.n(r),c=i(34038);function a(e,t={}){const[i,r]=(0,n.useState)({height:t.defaultHeight||0,width:t.defaultWidth||0}),a=(0,n.useMemo)((()=>o()((e=>{r({height:e.contentRect.height,width:e.contentRect.width})}),t.debounceTime||0)),[t.debounceTime]),d=(0,c.y)((e=>{const t=e[0];t&&a(t)}));return(0,n.useEffect)((()=>{const t=e.current;if(t)return d.observe(t),()=>{d.unobserve(t)}}),[e,d]),i}}}]);
//# sourceMappingURL=7866-f59c1ff949c5d3d0eb2c.js.map