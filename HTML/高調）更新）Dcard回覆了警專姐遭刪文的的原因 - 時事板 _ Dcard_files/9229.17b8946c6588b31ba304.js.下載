(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9229,932],{29229:function(e,i,t){"use strict";t.r(i);var n=t(52322),r=t(50039),o=t(89598),d=t(2784),c=t(49729),h=t(21688),l=t(49814),s=t(34149),a=t(83994),g=t(83112);i.default=(0,d.memo)((function(e){var i,t,s=e.url,p=e.source,m=e.margin,v=(0,g.Z)().formatMessage,w=(0,o.Z)(),j=s.href,Z=(0,l.Z)((function(e){return(0,h.g)(e,j)})),C=(0,l.Z)((function(e){return(0,h.D)(e,j)})),y=(0,d.useState)(!0),b=y[0],q=y[1],P=(null===Z||void 0===Z?void 0:Z.domain)||s.host,k=null!==(i=null!==C&&void 0!==C&&C.error?v({id:"post.load_link_failed.description"}):null===Z||void 0===Z?void 0:Z.title)&&void 0!==i?i:P.replace(/^www\./,""),I=!(null!==C&&void 0!==C&&C.fetched)&&"undefined"===typeof(null===C||void 0===C?void 0:C.error);return(0,d.useEffect)((function(){w((0,c.g)(j))}),[w,j]),(0,n.jsx)(a.Z,{previewType:"link_preview",href:j,source:p,children:(0,n.jsx)(r.Z,{multiLineTitle:!0,margin:m,loading:I,title:k,description:null===Z||void 0===Z?void 0:Z.description,thumbnail:null===Z||void 0===Z||null===(t=Z.image)||void 0===t?void 0:t.url,footer:(0,n.jsxs)(u,{children:[b&&(null===Z||void 0===Z?void 0:Z.favicon)&&(0,n.jsx)(f,{children:(0,n.jsx)(x,{src:null===Z||void 0===Z?void 0:Z.favicon,onError:function(){return q(!1)}})}),P]})})})}));var u=s.ZP.div.withConfig({componentId:"ni4v7t-0"})(["",";display:flex;align-items:center;"],(function(e){return e.theme.caption})),f=s.ZP.div.withConfig({componentId:"ni4v7t-1"})(["height:16px;width:16px;padding:1px;margin-right:4px;"]),x=s.ZP.img.withConfig({componentId:"ni4v7t-2"})(["width:14px;height:14px;"])},50039:function(e,i,t){"use strict";t.d(i,{Z:function(){return S}});var n=t(59394),r=t(54530),o=t(52322),d=t(34149),c=t(2784),h=t(33e3),l=(0,t(86401).F)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[c.createElement("path",{className:"link_svg__a",d:"M17 7h-3a1 1 0 00-1 1 1 1 0 001 1h3a3 3 0 013 3 3 3 0 01-3 3h-3a1 1 0 00-1 1 1 1 0 001 1h3a5.006 5.006 0 005-5 5.006 5.006 0 00-5-5zM10 15H7a3 3 0 01-3-3 3 3 0 013-3h3a1 1 0 001-1 1 1 0 00-1-1H7a5.006 5.006 0 00-5 5 5.006 5.006 0 005 5h3a1 1 0 001-1 1 1 0 00-1-1z"}),c.createElement("path",{className:"link_svg__a",d:"M8 12a1 1 0 001 1h6a1 1 0 001-1 1 1 0 00-1-1H9a1 1 0 00-1 1z"})]),s=t(49814),a=t(55219),g=t(90809),u=t(70932),f=92;function x(){return(0,o.jsxs)(m,{children:[(0,o.jsx)(w,{ratio:2.260869565217391,children:(0,o.jsxs)(u.Z,{viewBoxWidth:208,viewBoxHeight:f,children:[(0,o.jsx)("rect",{x:12,y:16,width:132,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:40,width:184,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:68,width:64,height:8,rx:4})]})}),(0,o.jsx)(j,{ratio:1,children:(0,o.jsx)(u.Z,{viewBoxWidth:f,viewBoxHeight:f,children:(0,o.jsx)("rect",{x:0,width:f,height:f})})})]})}var p,m=d.ZP.div.withConfig({componentId:"jtd4y5-0"})(["display:grid;grid-template-columns:","px 1fr ","px;grid-template-areas:'left . right';width:100%;"],208,f),v=(0,d.ZP)(g.Z).withConfig({componentId:"jtd4y5-1"})(["width:100%;"]),w=(0,d.ZP)(v).withConfig({componentId:"jtd4y5-2"})(["grid-area:left;"]),j=(0,d.ZP)(v).withConfig({componentId:"jtd4y5-3"})(["grid-area:right;"]),Z=(0,d.ZP)(g.Z).withConfig({componentId:"okwoqf-0"})(["width:100%;"]),C=function(){return(0,o.jsx)(Z,{ratio:6.608695652173913,children:(0,o.jsxs)(u.Z,{viewBoxWidth:608,viewBoxHeight:92,children:[(0,o.jsx)("rect",{x:12,y:16,width:200,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:40,width:332,height:12,rx:6}),(0,o.jsx)("rect",{x:12,y:68,width:100,height:8,rx:4}),(0,o.jsx)("rect",{x:516,width:92,height:92})]})})};!function(e){e[e.dcard=0]="dcard",e[e.reply=1]="reply"}(p||(p={}));var y=d.ZP.div.withConfig({componentId:"sc-17aqgmq-0"})(["display:flex;align-items:center;justify-content:space-between;margin:",";border:1px solid ",";border-radius:12px;background:",";width:100%;height:92px;overflow:hidden;"],(function(e){return e.margin}),(function(e){return e.theme.uiSeparator}),(function(e){return e.theme.whiteBg})),b=d.ZP.div.withConfig({componentId:"sc-17aqgmq-1"})(["display:grid;align-items:center;grid-template-rows:1fr 4px "," 20px;grid-template-areas:'title' '.' 'excerpt' 'footer';padding:12px;flex:1;height:100%;font-size:12px;color:",";"],(function(e){return e.isTitleMultiLine?0:"20px"}),(function(e){return e.theme.newTextSemiLight})),q=d.ZP.div.withConfig({componentId:"sc-17aqgmq-2"})(["grid-area:title;"]),P=d.ZP.h3.withConfig({componentId:"sc-17aqgmq-3"})(["",";",";color:",";word-break:break-word;"],(function(e){return e.theme.multiEllipsis(e.multiLineTitle?2:1)}),(function(e){return e.theme.subtitle1}),(function(e){return e.theme.text})),k=d.ZP.div.withConfig({componentId:"sc-17aqgmq-4"})(["grid-area:excerpt;font-size:14px;color:",";line-height:20px;display:flex;align-items:center;overflow:hidden;p{width:calc(100% - 16px);",";}"],(function(e){return e.theme.newTextSemiDark}),(function(e){return e.theme.ellipsis})),I=d.ZP.img.attrs({loading:"lazy",referrerPolicy:"no-referrer"}).withConfig({componentId:"sc-17aqgmq-5"})(["object-fit:cover;overflow:hidden;width:100%;height:100%;"]),B=d.ZP.div.withConfig({componentId:"sc-17aqgmq-6"})(["width:92px;height:92px;position:relative;"]),_=d.ZP.div.withConfig({componentId:"sc-17aqgmq-7"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:",";"],(function(e){return e.theme.maskImage})),H=d.ZP.div.withConfig({componentId:"sc-17aqgmq-8"})(["width:92px;height:92px;background-color:",";display:flex;align-items:center;justify-content:center;"],(function(e){return e.theme.placeholderBg})),T=d.ZP.div.withConfig({componentId:"sc-17aqgmq-9"})(["height:16px;width:4px;background-color:rgba(0,0,0,0.15);margin-right:4px;"]),L=d.ZP.div.withConfig({componentId:"sc-17aqgmq-10"})(["grid-area:footer;"]),E=(0,d.ZP)(l).attrs((function(e){return{fill:e.theme.newTextLight,size:24}})).withConfig({componentId:"sc-17aqgmq-11"})([""]),z=function(e){var i=e.title,t=e.thumbnail,n=e.description,r=e.footer,d=e.multiLineTitle,l=void 0!==d&&d,s=e.showQuote,a=void 0!==s&&s,g=(0,c.useRef)(null),u=(0,c.useState)(!!t),f=u[0],x=u[1],p=(0,h.h)(g).height,m=l&&p>22;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(b,{isTitleMultiLine:m,children:[(0,o.jsx)(q,{children:(0,o.jsx)(P,{ref:g,multiLineTitle:l,children:i})}),!m&&(0,o.jsxs)(k,{children:[a&&(0,o.jsx)(T,{}),(0,o.jsx)("p",{children:n})]}),(0,o.jsx)(L,{children:r})]}),(0,o.jsxs)(B,{children:[f?(0,o.jsx)(I,{src:t,onError:function(){return x(!1)}}):(0,o.jsx)(H,{children:(0,o.jsx)(E,{})}),f&&(0,o.jsx)(_,{})]})]})},M=function(e){var i=e.loading,t=void 0!==i&&i,d=e.margin,c=void 0===d?"4px 0":d,h=(0,r.Z)(e,["loading","margin"]),l=(0,s.Z)(a.Hu);return(0,o.jsx)(y,{margin:c,children:t?l?(0,o.jsx)(x,{}):(0,o.jsx)(C,{}):(0,o.jsx)(z,(0,n.Z)({},h))})},S=(0,c.memo)(M)},70932:function(e,i,t){"use strict";t.d(i,{k:function(){return h},Z:function(){return s}});var n=t(52322),r=t(59394),o=t(54530),d=t(34149);function c(e){var i=e.id,t=e.bgColor,r=e.fgColor;return(0,n.jsxs)("linearGradient",{id:i,gradientUnits:"userSpaceOnUse",x1:"-100%",y1:"0",x2:"200%",y2:"0",children:[(0,n.jsx)("stop",{stopColor:t,children:(0,n.jsx)(l,{values:"0;0.8"})}),(0,n.jsx)("stop",{stopColor:r,children:(0,n.jsx)(l,{values:"0.1;0.9"})}),(0,n.jsx)("stop",{stopColor:t,children:(0,n.jsx)(l,{values:"0.2;1"})})]})}var h,l=function(e){var i=e.values;return(0,n.jsx)("animate",{attributeName:"offset",values:i,dur:"1s",repeatCount:"indefinite"})};function s(e){var i=e.children,t=e.ratio,l=void 0===t?1:t,s=e.responsive,a=e.viewBoxWidth,g=void 0===a?100*l:a,u=e.viewBoxHeight,f=void 0===u?100:u,x=e.colorPreset,p=void 0===x?h.light:x,m=(0,o.Z)(e,["children","ratio","responsive","viewBoxWidth","viewBoxHeight","colorPreset"]),v=function(e){var i=(0,d.Fg)();switch(e){case h.ec:return{bgColor:i.ecLoadingBg,fgColor:i.ecLoadingHighlightBg};case h.dark:return{bgColor:i.loadingDarkBg,fgColor:i.loadingBg};case h.light:default:return{bgColor:i.loadingBg,fgColor:i.loadingHighlightBg}}}(p);return(0,n.jsxs)("svg",(0,r.Z)((0,r.Z)((0,r.Z)({viewBox:"0 0 ".concat(g," ").concat(f)},s&&{preserveAspectRatio:"none"}),m),{},{children:[(0,n.jsx)("defs",{children:(0,n.jsx)(c,(0,r.Z)({id:"lg"},v))}),(0,n.jsx)("g",{fill:"url(#lg)",children:i})]}))}!function(e){e[e.light=0]="light",e[e.dark=1]="dark",e[e.ec=2]="ec"}(h||(h={}))},33e3:function(e,i,t){"use strict";t.d(i,{h:function(){return c}});var n=t(2784),r=t(54073),o=t.n(r),d=t(34038);function c(e,i={}){const[t,r]=(0,n.useState)({height:i.defaultHeight||0,width:i.defaultWidth||0}),c=(0,n.useMemo)((()=>o()((e=>{r({height:e.contentRect.height,width:e.contentRect.width})}),i.debounceTime||0)),[i.debounceTime]),h=(0,d.y)((e=>{const i=e[0];i&&c(i)}));return(0,n.useEffect)((()=>{const i=e.current;if(i)return h.observe(i),()=>{h.unobserve(i)}}),[e,h]),t}}}]);
//# sourceMappingURL=9229.17b8946c6588b31ba304.js.map